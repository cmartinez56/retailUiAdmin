(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){"use strict";var a,r=n(79),o=n.n(r),i=n(99),c=n(60),l=n(0),u=n.n(l),s=n(8),m=n(58),d=n(34),f=function(e){var t=e.children;return u.a.createElement(d.a.ModelProvider,null,t)},g=n(59),p=n(104),h=n(92),v=n(196),b=n(43),E=n(193),w=n(194),O=n(195),j=[{label:"Home",icon:E.a,selected:!(window.location.href.includes("cashMovements")||window.location.href.includes("keyLogs")),link:"#/",route:"/",isMobile:!0},{label:"Cash Move",icon:w.a,selected:window.location.href.includes("cashMovements"),link:"#/cashMovements",route:"/cashMovements",featureId:1,isMobile:!0},{label:"Key Logs",icon:O.a,selected:window.location.href.includes("keyLogs"),link:"#/keyLogs",route:"/keyLogs",featureId:1,isMobile:!0}],x=n(15),C=n(27),L=a?j.filter((function(e){return e.isMobile})):j,y=[{label:"Logout",icon:v.a,link:"#/logout"}],M=Object(b.a)((function(e){var t=e.children,n=(e.firstName,e.lastName,e.userLoggedIn,e.picUrl,e.userFeatures),a=function(){var e=Object(l.useState)(window.innerWidth<=760),t=e[0],n=e[1],a=function(){n(window.innerWidth<=760)};return Object(l.useEffect)((function(){return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}})),t}(),r=N(a),o=Object(C.b)(),i=(o.isLoading,o.isAuthenticated,o.error,o.user),c=(o.loginWithRedirect,o.logout,L.filter((function(e){return void 0===e.featureId||n.indexOf(e.featureId)>-1}))),s=Object(x.b)();return console.log(i),i&&(Object(x.g)(i),s.picUrl=i.picture,s.name=i.name),s.name&&u.a.createElement("div",null,u.a.createElement(p.SideStrip,{mainLinks:c,bottomLinks:y,onMenuClose:function(){},expandMenu:!1,userLabel:s.name,imageUrl:decodeURIComponent(s.picUrl)}),u.a.createElement("div",{className:r.mainContainer},t))||u.a.createElement("div",null,t)}),[d.a]),N=function(e){return Object(h.a)({mainContainer:{marginLeft:e?0:70}})()},S=n(192),I=n(187),k=n(188),U=n(198),A=n(95),P=n(197),T=u.a.createElement(S.a,null,"You have been logged out."),H=u.a.createElement("span",null,"... logging out please wait"),W=Object(b.a)((function(e){var t=e.onNotifyMainNavOfLogOff,n=e.userLoggedIn,a=_(),r=Object(C.b)(),o=r.loginWithRedirect,i=r.logout,c=r.isAuthenticated,s=r.isLoading;return Object(l.useEffect)((function(){Object(x.a)(),c&&i({returnTo:window.location.origin+"/#/logout"}),n&&t()})),u.a.createElement("form",{id:"logout-submit",className:a.mainContainer},!s&&!c&&u.a.createElement(I.a,{style:{display:"flex"}},u.a.createElement("div",{className:a.outerCard},u.a.createElement(k.a,{className:a.cardContainer},u.a.createElement("img",{src:"retail-shop-flat-icon_small.jpg",className:a.logo}),u.a.createElement("div",{className:a.messageContainer},u.a.createElement(P.a,{className:a.iconSpacing}),T)),u.a.createElement(U.a,null,u.a.createElement(A.a,{variant:"contained",color:"secondary",className:a.actionButton,onClick:function(){o()}},u.a.createElement(v.a,{style:{marginRight:10}})," Login")))),(s||c)&&H)}),[d.a]),_=Object(h.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170},logo:{width:250,margin:"auto"},actionButton:{width:"80%",margin:"auto"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"}}),D=n(82),R=(n(61),n(105),u.a.createElement(s.b,{exact:!0,path:"/logOut",component:W})),z=u.a.createElement(s.b,{exact:!0,path:"/logcomplete",component:W}),J=function(e){function t(){var t;return(t=e.call(this)||this).state={isMobile:window.innerWidth<=760},t}Object(c.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;Object(x.d)();window.addEventListener("resize",(function(){e.setState({isMobile:window.innerWidth<=760})}));var t=this.props.auth0,n=(t.user,t.getAccessTokenSilently);(function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:t=e.sent,console.log(t),Object(x.f)(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("---------------"),console.log(e.t0.message||e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()},n.render=function(){var e=Object(g.getLoginRoute)(),t=(this.state.isMobile,M);return u.a.createElement(f,null,u.a.createElement(m.a,null,u.a.createElement(t,null,u.a.createElement("div",null,u.a.createElement(e,null),R,z,u.a.createElement(s.b,{permission:1,exact:!0,path:"/",component:D.a})))))},t}(u.a.Component);t.a=Object(C.c)(J)},113:function(e,t,n){e.exports=n(114)},114:function(e,t,n){"use strict";n.r(t),function(e){n(115);var t=n(0),a=n.n(t),r=n(7),o=n(106),i=n(37),c=n(173),l=n(52),u=n(174),s=n(27),m=Object(i.a)({typography:{useNextVariants:!0},palette:{textColor:l.a.A700,primary:{main:"#3d6090",success:"#4caf50",idle:u.a[500]},secondary:{main:"#428bca"}}});Object(r.render)(a.a.createElement(s.a,{domain:e.env.AUTH_DOMAIN,clientId:e.env.AUTH_CLIENT_ID,audience:e.env.AUTH_AUDIENCE,redirectUri:""+window.location.origin},a.a.createElement(c.a,{theme:m},a.a.createElement(o.a,null))),document.querySelector("#app"))}.call(this,n(75))},115:function(e,t,n){},15:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return f}));var a={token:localStorage.getItem("token"),name:localStorage.getItem("name")||"",picUrl:localStorage.getItem("picUrl")||"",email:localStorage.getItem("email")||"",featurePermissions:[]};try{var r=localStorage.getItem("featurePermissions");a.featurePermissions=r?JSON.parse(r):[]}catch(e){a.featurePermissions=[]}var o=function(e){localStorage.setItem("token",e),a.token=e;var t=g(e);c(t.exp)},i=function(){},c=function(e){var t=n(59).navigate;l();var r=1e3*e-new Date-6e4;r>30?a.logOutTimer=setTimeout((function(){return t("#/logout")}),r):e>0&&t("#/logout")},l=function(){a.logOutTimer>-1&&(clearTimeout(a.logOutTimer),a.logOutTimer=-1)},u=function(){return a.token&&null!==a.token},s=function(){return a},m=function(e){return a.featurePermissions.indexOf(e)>-1},d=function(e){var t=e.name,n=e.picture,r=e.email;return a.featurePermissions=[1],localStorage.setItem("name",t),localStorage.setItem("email",r),localStorage.setItem("picUrl",n),localStorage.setItem("featurePermissions",JSON.stringify(a.featurePermissions)),a.name=t,a.email=r,a.picUrl=n,a.featurePermissions=[1],a},f=function(){a.featurePermissions=[],localStorage.removeItem("featurePermissions")},g=function(e){var t=e&&e.split(".");if(t&&t.length>0){var n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(n))}return{}}},34:function(e,t,n){"use strict";var a,r,o,i,c=n(61),l=n(100),u=n(60),s=n(0),m=n.n(s),d=n(15),f=null,g=function(){var e=Object(d.b)();return{userNotAuthorized:!1,userLoggedIn:Object(d.e)(),name:e.name,picUrl:e.picUrl,userFeatures:e.featurePermissions||[],faceLoginMessage:null,passwordMessage:"",confirmPasswordMessage:"",profileLoading:!1,onSetAccount:h,onNotifyMainNavOfLogOff:p}},p=function(){f.setState({userLoggedIn:!1})},h=function(e){console.log("loginInfo"),console.log(e),Object(d.g)(e),f.setState({picUrl:e.picUrl,name:e.name,email:e.email,userLoggedIn:!0})};t.a=(a=g,r=function(e){return f=e,g()},o=m.a.createContext(a()),i=function(e){function t(t){var n;n=e.call(this,t)||this;var a=t&&t.match&&t.match.params&&t.match.params.testMode&&t.match.params.testMode.indexOf("testMode")>-1&&t.match.params.testMode;return n.state=r(Object(l.a)(n),a||""),n}return Object(u.a)(t,e),t.prototype.render=function(){return m.a.createElement(o.Provider,{value:this.state},this.props.children)},t}(m.a.Component),{ModelContext:o,ModelProvider:i,connect:function(e,t){return m.a.createElement(o.Consumer,null,(function(n){return m.a.createElement(e,Object(c.a)({},n,t))}))}})},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(107),r=function(e,t,n){void 0===n&&(n=null);var r=[],o=null!==n?Object(a.a)(n)(e):e;return t.forEach((function(e,t){if(0===t){r.push((function(t){return e.connect(o,t)}))}else{r.push((function(n){return e.connect(r[t-1],n)}))}})),r[r.length-1]}},59:function(e,t,n){"use strict";n.r(t),n.d(t,"getHistory",(function(){return v})),n.d(t,"navigate",(function(){return b})),n.d(t,"getLoginRoute",(function(){return E}));var a=n(0),r=n.n(a),o=n(8),i=n(187),c=n(188),l=n(92),u=n(34),s=n(43),m=Object(l.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170,minWidth:240,textAlign:"center"},logo:{width:250,margin:"auto"},actionButton:{width:"80%",margin:"10px"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"},cardActionsContainer:{display:"flex",flexDirection:"column"}}),d=Object(s.a)((function(e){var t=e.userNotAuthorized,n=e.firstName,o=e.lastName,l=(e.onSetAccount,e.onCreateProfile,e.onFaceLogin,e.faceLoginMessage,e.profileLoading,m()),u=Object(a.useState)(!1),s=(u[0],u[1],Object(a.useState)(!1)),d=(s[0],s[1],Object(a.useState)(!1));d[0],d[1];return r.a.createElement("form",{id:"logon-submit",action:"/login/google/source",className:l.mainContainer},r.a.createElement(i.a,{style:{display:"flex"}},r.a.createElement("div",{className:l.outerCard},r.a.createElement(c.a,{className:l.cardContainer},r.a.createElement("img",{src:"ncr_logo.jpg",className:l.logo}),t&&r.a.createElement("div",null,"User ",n," ",o," is not authorized to use this site")))))}),[u.a]),f={loaded:!1,history:null},g=r.a.createElement(o.b,{exact:!0,path:"/login",component:d}),p=function(e){var t=e.history;return h(t),g},h=function(e){f.history=e,f.loaded=!0},v=function(){return f},b=function(e){window.location.href=e},E=function(){return Object(o.f)(p)}},82:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(0),r=n.n(a),o=n(27),i=function(t){t.history;var n=Object(o.b)(),a=n.user,i=n.isAuthenticated;return r.a.createElement("div",null,"Hi test",r.a.createElement("p",null,e.env.AUTH_DOMAIN),i&&r.a.createElement("div",null,r.a.createElement("h2",null,a.name),r.a.createElement("p",null,a.email),r.a.createElement("p",null,e.env.AUTH_DOMAIN)))}}).call(this,n(75))}},[[113,1,2]]]);
//# sourceMappingURL=app.9112e6ca.js.map