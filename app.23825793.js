(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){"use strict";a.d(t,"f",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return d})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"a",(function(){return h}));var n=a(6),r=a.n(n),o=a(15),i={token:localStorage.getItem("token"),name:localStorage.getItem("name")||"",picUrl:localStorage.getItem("picUrl")||"",email:localStorage.getItem("email")||"",featurePermissions:[],userDomain:localStorage.getItem("userDomain")||"",catalogApi:"https://api.netware.io"};try{var c=localStorage.getItem("featurePermissions");i.featurePermissions=c?JSON.parse(c):[]}catch(e){i.featurePermissions=[]}var s=function(e){localStorage.setItem("token",e),i.token=e;var t=v(e);u(t.exp)},l=function(){},u=function(e){var t=a(146).navigate;g();var n=1e3*e-new Date-6e4;n>30?i.logOutTimer=setTimeout((function(){return t("#/logout")}),n):e>0&&t("#/logout")},g=function(){i.logOutTimer>-1&&(clearTimeout(i.logOutTimer),i.logOutTimer=-1)},d=function(){return i.token&&null!==i.token},f=function(){return i},p=function(e){return i.featurePermissions.indexOf(e)>-1},m=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.picture,o=t.email,c=t.userId,i.featurePermissions=[1],e.next=4,b(c);case 4:return s=e.sent,localStorage.setItem("name",a),localStorage.setItem("email",o),localStorage.setItem("picUrl",n),localStorage.setItem("userDomain",s),localStorage.setItem("featurePermissions",JSON.stringify(i.featurePermissions)),i.name=a,i.email=o,i.picUrl=n,i.userDomain=s,i.featurePermissions=[1],e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){i.featurePermissions=[],localStorage.removeItem("featurePermissions")},v=function(e){var t=e&&e.split(".");if(t&&t.length>0){var a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(a))}return{}},b=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","darbyfurnitureoutlet.com");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},146:function(e,t,a){"use strict";a.r(t),a.d(t,"getHistory",(function(){return E})),a.d(t,"navigate",(function(){return O})),a.d(t,"getLoginRoute",(function(){return x}));var n=a(0),r=a.n(n),o=a(19),i=a(210),c=a(474),s=a(475),l=a(476),u=a(159),g=a(160),d=a(477),f=a(58),p=a(9),m=a(34),h=Object(g.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170,minWidth:240,textAlign:"center"},logo:{width:250,margin:"auto"},actionButton:{width:"100%",margin:"10px"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"},cardActionsContainer:{display:"flex",flexDirection:"column"}}),v=Object(p.a)((function(e){Object(i.a)(e);var t=h(),a=Object(m.b)().loginWithRedirect;return r.a.createElement("form",{id:"logon-submit",action:"/login/google/source",className:t.mainContainer},r.a.createElement(c.a,{style:{display:"flex"}},r.a.createElement("div",{className:t.outerCard},r.a.createElement(s.a,{className:t.cardContainer},r.a.createElement("img",{src:"retail-shop-flat-icon_small.jpg",className:t.logo})),r.a.createElement(l.a,null,r.a.createElement(u.a,{variant:"contained",color:"secondary",className:t.actionButton,onClick:function(){a({returnTo:window.location.origin+"/#/"})}},r.a.createElement(d.a,{style:{marginRight:10}})," Login")))))}),[f.a]),b={loaded:!1,history:null},y=r.a.createElement(o.b,{exact:!0,path:"/login",component:v}),C=function(e){var t=e.history;return w(t),y},w=function(e){b.history=e,b.loaded=!0},E=function(){return b},O=function(e){window.location.href=e},x=function(){return Object(o.f)(C)}},229:function(e,t,a){e.exports=a(451)},230:function(e,t,a){},451:function(e,t,a){"use strict";a.r(t);a(230);var n=a(0),r=a.n(n),o=a(16),i=a(6),c=a.n(i),s=a(15),l=a(72),u=a(19),g=a(105),d=a(208),f=a(522),p=a(521),m=a(160),h=a(58),v=a(73),b=a(14),y=a(9),C=function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n,r,o,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.b)(),r=n.catalogApi,o=n.token,i=r+"/catalogApi/api/v1/catalog/"+t+"/"+a,s={method:"PATCH",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+o}},e.abrupt("return",fetch(i,s).then(Object(y.c)()).then((function(e){return{success:!0,saveCatalogStatusResult:e,catalogStatusLoading:!1}})).catch((function(e){return{success:!1,catalogStatusLoading:!1,catalogListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t._id);case 2:return a=e.sent,t.images.forEach((function(e){return O(e.id)})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=Object(b.b)(),a=t.catalogApi,n=t.token;return fetch(a+"/catalogapi/api/v1/catalog/"+e,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}}).then(Object(y.c)()).then((function(e){return{deleteCatalogResult:e,catalogListLoading:!1}})).catch((function(e){return{deleteCatalogResult:!1,catalogListLoading:!1,deleteCatalogResultError:e.message||e}}))},O=function(e){var t=Object(b.b)(),a=t.catalogApi,n=t.token;return fetch(a+"/catalogapi/api/v1/catalog/file/"+e,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}}).then(Object(y.c)()).then((function(e){return console.log("DELETE file result"),console.log(e),{deleteImageResult:e}})).catch((function(e){return{deleteImageResult:!1,deleteImageResultError:e.message||e}}))},x=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r,o,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("myFile",t),n=Object(b.b)(),r=n.catalogApi,o=n.token,i=r+"/catalogApi/api/v1/catalog/file",s={method:"POST",headers:{Authorization:"Bearer "+o},body:a},e.abrupt("return",fetch(i,s).then(Object(y.c)()).then((function(e){return{uploadImageResult:e,imageLoading:!1}})).catch((function(e){return{uploadImageResult:!1,imageLoading:!1,uploadImageResultError:e.message||e}})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(b.b)(),n=a.catalogApi,r=a.token,o=n+"/catalogApi/api/v1/catalog",i={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r},body:JSON.stringify(t)},e.abrupt("return",fetch(o,i).then(Object(y.c)()).then((function(e){return{saveCatalogResult:e,activeCatalogItem:t,catalogListLoading:!1}})).catch((function(e){return{success:!1,catalogListLoading:!1,catalogListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(s.a)(c.a.mark((function e(){var t,a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.b)(),a=t.catalogApi,n=t.token,r=t.userDomain,o=a+"/catalogApi/api/v1/catalog/domain/"+r,i={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}},e.abrupt("return",fetch(o,i).then(Object(y.c)()).then((function(e){return{catalogList:e,catalogListLoading:!1}})).catch((function(e){return{catalogList:[],catalogListLoading:!1,catalogListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e,t){var a=[].concat(e);return a.sort((function(e,a){var n=e.categories&&e.categories.length>0,r=a.categories&&a.categories.length>0,o=n?e.categories.filter((function(e){return e._id===t})):[],i=r?a.categories.filter((function(e){return e._id===t})):[];return o.length>0&&i.length>0?o[0].sort-i[0].sort:o.length>0?-1:1})),a},j=function(e,t,a){var n=Object.assign({},e),r=Object.assign({},a),o=n.categories.filter((function(e){return e._id===t._id})),i=r.categories.filter((function(e){return e._id===t._id}));if(o.length>0&&i.length>0){var c=i[0].sort;i[0].sort=o[0].sort,o[0].sort=c}return{target:n,swap:r}},k=null,I=function(){return{activeCatalogItem:null,catalogList:[],catalogListFiltered:[],catalogListLoading:!1,savingCatalogSort:!1,catalogListInit:!1,catalogStatusLoading:!1,categorySelected:null,catalogSearchText:"",onCatalogListInit:Y,onSetActiveCatalogItem:_,onSaveCatalogItem:H,onUploadImage:P,onCreateNewCatalog:z,onDeleteCatalog:M,onSetCatalogStatus:F,onAddCategoryToCatalog:B,onRemoveCategoryFromCatalog:N,onCategorySelectChange:T,onCatalogOrderChange:D,onCatalogSearch:R}},R=function(e){var t=e.toLocaleString(),a=k.state.catalogList.filter((function(e){return e.shortDesc.toLowerCase().indexOf(t)>-1||e.modelNumber.toLowerCase().indexOf(t)>-1})),n=A(a,k.state.categorySelected&&k.state.categorySelected._id);k.setState({catalogSearchText:e,catalogListFiltered:n})},D=function(){var e=Object(s.a)(c.a.mark((function e(t,a,n){var r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k.setState({savingCatalogSort:!0}),r=j(t,a,n),o=r.target,i=r.swap,e.next=5,W(o,!1);case 5:return e.next=7,W(i,!1);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:k.setState({savingCatalogSort:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),T=function(e){var t=A(k.state.catalogList,e._id);k.setState({catalogListFiltered:t,categorySelected:e})},B=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.catalog,n=t.category,r=1,k.state.catalogList.forEach((function(e){var t=e.categories.filter((function(e){return e._id===n._id}));t.length>0&&t[0].sort>r&&(r=t[0].sort)})),k.setState({catalogStatusLoading:a._id,catalogListLoading:!0}),o=Object.assign({},a,{categories:[Object.assign({},n,{sort:r+1})].concat(a.categories)}),e.next=7,W(o,!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.catalog,n=t.categoryId,k.setState({catalogStatusLoading:a._id,catalogListLoading:!0}),r=a.categories.filter((function(e){return e._id!==n})),o=Object.assign({},a,{categories:r}),e.next=6,W(o,!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.setState({catalogStatusLoading:a,activeCatalogItem:null}),e.next=3,C(t,a);case 3:n=e.sent,r=n.saveCatalogStatusResult,n.success&&r.modifiedCount>0?(o=k.state.catalogList.map((function(e){return e._id===a?Object.assign({},e,{status:t}):e})),i=A(o,k.state.categorySelected&&k.state.categorySelected._id),k.setState({catalogList:o,catalogListFiltered:i,catalogStatusLoading:!1})):k.setState({catalogStatusLoading:!1});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.setState({catalogListLoading:!0}),e.next=3,w(t);case 3:(a=e.sent).catalogList=k.state.catalogList.filter((function(e){return e._id!==t._id})),a.catalogListFiltered=a.catalogList,a.activeCatalogItem=null,k.setState(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(s.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=3;break}return e.next=3,O(a);case 3:return e.next=5,x(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.setState({catalogListInit:!0}),e.next=3,a=void 0,n=void 0,r=void 0,o=void 0,a=Object(b.b)(),n=a.catalogApi,r=a.token,o=a.userDomain,fetch(n+"/catalogapi/api/v1/catalog/new/"+o,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r}}).then(Object(y.c)()).then((function(e){return{activeCatalogItem:e,catalogListLoading:!1}})).catch((function(e){return{activeCatalogItem:null,catalogListLoading:!1,catalogListLoadError:e.message||e}}));case 3:t=e.sent,k.setState(t);case 5:case"end":return e.stop()}var a,n,r,o}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(s.a)(c.a.mark((function e(t,a,n,r,o){var i,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.setState({catalogListLoading:!0}),i=Object.assign({},a,{willFitWidth:n,colorRgb:r,colorRgbOther:o}),s=t.images&&t.images.find((function(e){return e.id===i.id})),l=t.images&&t.images.length>1&&s?t.images.map((function(e){return e.id===i.id?i:e})):[i],u=Object.assign({},t,{images:l}),e.next=7,W(u);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=!0),e.next=3,L(t);case 3:(n=e.sent).saveCatalogResult&&n.saveCatalogResult.modifiedCount>0?(n.catalogList=k.state.catalogList.map((function(e){return e._id===t._id?t:e})),n.catalogListFiltered=A(n.catalogList,k.state.categorySelected&&k.state.categorySelected._id)):n.saveCatalogResult&&n.saveCatalogResult.upsertedCount>0&&(n.catalogList=[].concat(k.state.catalogList,[t]),n.catalogListFiltered=A(n.catalogList,k.state.categorySelected&&k.state.categorySelected._id)),a||(n.activeCatalogItem=null),n.catalogStatusLoading=!1,k.setState(n);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(e){k.setState({activeCatalogItem:e})},Y=function(){k.setState({catalogListInit:!0}),S().then((function(e){e.catalogListFiltered=e.catalogList,k.setState(e)}))},U=Object(v.a)(I,(function(e){return k=e,I()})),G=function(){var e=Object(s.a)(c.a.mark((function e(){var t,a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.b)(),a=t.catalogApi,n=t.token,r=t.userDomain,o=a+"/catalogApi/api/v1/category/domain/"+r,i={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}},e.abrupt("return",fetch(o,i).then(Object(y.c)()).then((function(e){return{categoryList:e,categoryListLoading:!1}})).catch((function(e){return{categoryList:[],categoryListLoading:!1,categoryListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(b.b)(),n=a.catalogApi,r=a.token,o=n+"/catalogApi/api/v1/Category",i={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r},body:JSON.stringify(t)},e.abrupt("return",fetch(o,i).then(Object(y.c)()).then((function(e){return{saveCategoryResult:e,activeCategoryItem:t,categoryListLoading:!1}})).catch((function(e){return{success:!1,categoryListLoading:!1,categoryListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=null,Z=function(){return{activeCategoryItem:null,categoryList:[],categoryListLoading:!1,categoryListInit:!1,onCategoryListInit:K,onSetActiveCategoryItem:X,onSaveCategoryItem:q,onCreateNewCategory:Q,onDeleteCategory:$}},K=function(){J.setState({categoryListInit:!0}),G().then((function(e){J.setState(e)}))},X=function(e){J.setState({activeCategoryItem:e})},q=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isNew&&delete t.isNew,(a=V(t)).categoryList=J.state.categoryList.map((function(e){return e._id===t._id?t:e})),J.setState(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J.setState({categoryListInit:!0}),e.next=3,a=void 0,n=void 0,r=void 0,o=void 0,a=Object(b.b)(),n=a.catalogApi,r=a.token,o=a.userDomain,fetch(n+"/catalogapi/api/v1/category/new/"+o,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r}}).then(Object(y.c)()).then((function(e){return{activeCategoryItem:e,categoryListLoading:!1}})).catch((function(e){return{activeCategoryItem:null,categoryListLoading:!1,categoryListLoadError:e.message||e}}));case 3:(t=e.sent).categoryList=[t.activeCategoryItem].concat(J.state.categoryList),J.setState(t);case 6:case"end":return e.stop()}var a,n,r,o}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J.setState({categoryListLoading:!0}),e.next=3,n=t._id,r=void 0,o=void 0,i=void 0,r=Object(b.b)(),o=r.catalogApi,i=r.token,fetch(o+"/catalogapi/api/v1/category/"+n,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+i}}).then(Object(y.c)()).then((function(e){return{deleteCategoryResult:e,categoryListLoading:!1}})).catch((function(e){return{deleteCategoryResult:!1,categoryListLoading:!1,deleteCategoryResultError:e.message||e}}));case 3:(a=e.sent).categoryList=J.state.categoryList.filter((function(e){return e._id!==t._id})),a.activeCategoryItem=null,J.setState(a);case 7:case"end":return e.stop()}var n,r,o,i}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=Object(v.a)(Z,(function(e){return J=e,Z()})),te=function(e){var t=e.children;return r.a.createElement(h.a.ModelProvider,null,r.a.createElement(U.ModelProvider,null,r.a.createElement(ee.ModelProvider,null,t)))},ae=a(146),ne=function(){var e=Object(n.useState)(window.innerWidth<=760),t=e[0],a=e[1],r=function(){a(window.innerWidth<=760)};return Object(n.useEffect)((function(){return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[]),t};var re,oe=a(214),ie=a(477),ce=a(482),se=a(483),le=[{label:"Home",icon:ce.a,selected:!(window.location.href.includes("category")||window.location.href.includes("keyLogs")),link:"#/",route:"/",isMobile:!0},{label:"Category",icon:se.a,selected:window.location.href.includes("category"),link:"#/category",route:"/category",isMobile:!0}],ue=a(34),ge=re?le.filter((function(e){return e.isMobile})):le,de=[{label:"Logout",icon:ie.a,link:"#/logout"}],fe=Object(y.a)((function(e){var t=e.children,a=(e.firstName,e.lastName,e.userLoggedIn,e.picUrl,e.userFeatures),n=ne(),o=pe(n),i=Object(ue.b)(),c=i.isLoading,s=(i.isAuthenticated,i.error,i.user),l=(i.loginWithRedirect,i.logout,ge.filter((function(e){return void 0===e.featureId||a.indexOf(e.featureId)>-1}))),u=Object(b.b)();return c||(console.log("---- Full Menu ----"),console.log(s)),s&&(Object(b.g)(s),u.picUrl=s.picture,u.name=s.name),u.name&&r.a.createElement("div",null,r.a.createElement(oe.SideStrip,{mainLinks:l,bottomLinks:de,onMenuClose:function(){},expandMenu:!1,userLabel:u.name,imageUrl:decodeURIComponent(u.picUrl)}),r.a.createElement("div",{className:o.mainContainer},t))||r.a.createElement("div",null,t)}),[h.a]),pe=function(e){return Object(m.a)({mainContainer:{marginLeft:e?7:70,marginRight:7}})()},me=a(53),he=a(474),ve=a(475),be=a(476),ye=a(159),Ce=a(484),we=r.a.createElement(me.a,null,"You have been logged out."),Ee=r.a.createElement("span",null,"... logging out please wait"),Oe=Object(y.a)((function(e){var t=e.onNotifyMainNavOfLogOff,a=e.userLoggedIn,o=xe(),i=Object(ue.b)(),c=i.loginWithRedirect,s=i.logout,l=i.isAuthenticated,u=i.isLoading;return Object(n.useEffect)((function(){Object(b.a)(),l&&s({returnTo:window.location.origin+"/#/login"}),localStorage.removeItem("token"),localStorage.removeItem("featurePermissions"),a&&t()})),r.a.createElement("form",{id:"logout-submit",className:o.mainContainer},!u&&!l&&r.a.createElement(he.a,{style:{display:"flex"}},r.a.createElement("div",{className:o.outerCard},r.a.createElement(ve.a,{className:o.cardContainer},r.a.createElement("img",{src:"retail-shop-flat-icon_small.jpg",className:o.logo}),r.a.createElement("div",{className:o.messageContainer},r.a.createElement(Ce.a,{className:o.iconSpacing}),we)),r.a.createElement(be.a,null,r.a.createElement(ye.a,{variant:"contained",color:"secondary",className:o.actionButton,onClick:function(){c()}},r.a.createElement(ie.a,{style:{marginRight:10}})," Login")))),(u||l)&&Ee)}),[h.a]),xe=Object(m.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170},logo:{width:250,margin:"auto"},actionButton:{width:"80%",margin:"auto"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"}}),Le=a(487),Se=a(488),Ae=a(167),je=a(486),ke=a(221),Ie=a(485),Re=r.a.createElement(Ie.a,null),De=function(e){var t=e.onSearchChange,a=Te();return r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},Re),r.a.createElement(ke.a,{placeholder:"Search…",onChange:function(e){return t(e.target.value)},classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}}))},Te=Object(m.a)((function(e){var t;return{inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},t[e.breakpoints.up("md")]={},t),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}})),Be=a(4),Ne=a.n(Be),Fe=Object(m.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,color:"black",fontSize:"14px",marginBottom:10,marginLeft:-20,boxShadow:"0 0"},rootMobile:{backgroundColor:e.palette.background.paper,color:"black",fontSize:"14px",marginBottom:10,marginTop:0,marginLeft:20,boxShadow:"0 0",width:"unset"},toolBar:{minHeight:38,height:38},avatar:{backgroundColor:"transparent",color:e.palette.primary.main,marginRight:15,marginLeft:-15},searchTextContainer:{display:"flex",position:"absolute",right:5,top:7},childContainerNoSearch:{display:"flex"},childContainer:{display:"flex",right:270,top:7,marginLeft:8},searchTextBox:{width:120},searchTextLabel:{marginRight:"5px",marginTop:"6px"},menuButton:{marginLeft:-18,marginRight:10},labelTitle:{color:e.palette.primary.main,display:"flex"},labelTitleWithTextBox:{color:e.palette.primary.main,marginRight:28,display:"flex",marginTop:12}}})),Me=r.a.createElement(je.a,null),Pe=r.a.createElement(je.a,null),ze=function(e){var t=e.title,a=(e.LeftIcon,e.onSearchChange),n=e.hideSearch,o=e.onAdd,i=e.addLabel,c=e.children,s=e.childHasTextBox,l=(e.onAvatarClick,ne()),u=Fe();return r.a.createElement(Le.a,{className:l?u.rootMobile:u.root,position:"static"},r.a.createElement(Se.a,{variant:"dense"},r.a.createElement("span",{className:s?u.labelTitleWithTextBox:u.labelTitle},r.a.createElement(me.a,{variant:"h6",color:"inherit"},t)),o&&!l&&r.a.createElement(ye.a,{variant:"outlined",color:"secondary",onClick:o,startIcon:Me,style:{marginLeft:20}},i||"Add"),o&&l&&r.a.createElement(Ae.a,{color:"secondary",onClick:o,style:{marginLeft:10}},Pe),r.a.createElement("span",{className:n||void 0===a||s?u.childContainerNoSearch:u.childContainer},c),!0!==n&&void 0!==a&&r.a.createElement("span",{className:u.searchTextContainer},r.a.createElement("span",{className:u.searchTextBox},r.a.createElement(De,{onSearchChange:function(e){return a(e)}})))))};Ne.a.elementType.isRequired,Ne.a.string;var He=a(508),We=a(492),_e=a(516),Ye=a(493),Ue=a(489),Ge=a(490),Ve=a(491),Je=a(114),Ze=Object(b.b)().catalogApi,Ke=r.a.createElement(Ue.a,null),Xe=r.a.createElement(Ue.a,null),qe=r.a.createElement(Ge.a,{fontSize:"large"}),Qe=r.a.createElement(Ve.a,{fontSize:"large"}),$e=function(e){var t,a,o,i,c=e.catalog,s=e.onClick,l=e.inEdit,u=e.onSetStatus,g=e.disableEdit,d=e.isSaving,f=e.category,p=e.savingCatalogSort,m=e.onAddCategory,h=e.onRemoveCategory,v=e.onOrderChange,b=e.prevCatalog,C=e.nextCatalog,w=(t=function(e){var t="",a="";return e<550?(t="93vw",a="72.54vw"):e<700?(t="46vw",a="35.88vw"):e<1200?(t="30vw",a="24.3vw"):(t="23vw",a="17.94vw"),{widthCalc:t,heightPicCalc:a}},a=Object(n.useState)(t(window.innerWidth)),o=a[0],i=a[1],Object(n.useEffect)((function(){function e(){var e=t(window.innerWidth);i(e)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),o),E=w.widthCalc,O=w.heightPicCalc,x=l?"100%":E,L=c.images&&c.images.length>0,S=L?c.images[0].id:"5f41d4dac6f0db5918e4cb20",A=et({widthValue:x,heightValue:O}),j=L&&c.images[0].willFitWidth,k=L&&c.images[0].colorRgb,I=L&&c.images[0].colorRgbOther,R=(f&&c.categories.filter((function(e){return e._id===f._id}))||[]).length>0,D=f&&f._id;return r.a.createElement(he.a,{className:A.card},r.a.createElement("div",{className:A.cardContainer},!g&&(d?r.a.createElement(We.a,{control:Ke,label:"Saving",style:{minHeight:42,marginLeft:10}}):r.a.createElement(We.a,{control:r.a.createElement(_e.a,{checked:"active"===c.status,onChange:function(e){var t=e.target.checked?"active":"disabled";u(t,c._id)},inputProps:{"aria-label":"primary checkbox"}}),label:"Active",style:{marginLeft:3}})),!g&&(d?r.a.createElement(We.a,{control:Xe,label:"Saving",style:{minHeight:42,marginLeft:10}}):D&&r.a.createElement(We.a,{control:r.a.createElement(_e.a,{checked:R,onChange:function(e){e.target.checked?m({catalog:c,category:f}):h({catalog:c,categoryId:f._id})},inputProps:{"aria-label":"primary checkbox"}}),label:"In Category",style:{marginLeft:3}})),r.a.createElement("div",{className:A.catPrice},"$",Object(y.e)(c.unitPrice)),D&&!p&&b&&R&&r.a.createElement(Ae.a,{"aria-label":"Up",className:A.buttonUp,onClick:function(){return v(c,f,b)}},qe),r.a.createElement(ve.a,{onClick:function(){s&&s()},className:j?A.imageBoxWidth:A.imageBoxHeight},r.a.createElement(Je.PicRatioView,{src:Ze+"/catalogApi/api/v1/catalog/file/"+S,width:x,height:O,colorRgb:k,colorRgbOpposite:I,willFitWidth:j})),D&&!p&&C&&R&&r.a.createElement(Ae.a,{"aria-label":"Up",className:A.buttonDown,onClick:function(){return v(c,f,C)}},Qe),r.a.createElement(Ye.a,{title:c.shortDesc,subheader:c.extraDesc,classes:{title:A.cardTitle,subheader:A.cardSubheader}})))},et=Object(m.a)({catPrice:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#000000ba",font:"800 16px Arial","border-bottom-right-radius":10,color:"white"},card:{width:function(e){return e.widthValue},marginBottom:20,backgroundColor:"#d0c6c626"},cardContainer:{position:"relative"},cardTitle:{fontSize:16},cardSubheader:{fontSize:14},imageBoxHeight:{width:function(e){return e.widthValue},height:function(e){return e.heightValue},overflow:"hidden",backgroundColor:"#afcdee",display:"flex",padding:0},imageBoxWidth:{width:function(e){return e.widthValue},height:function(e){return e.heightValue},overflow:"hidden",backgroundColor:"#afcdee",padding:0},buttonUp:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",left:"calc(50% - 20px)",top:40},buttonDown:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",left:"calc(50% - 20px)",bottom:75}}),tt=a(501),at=a(494),nt=a(219),rt=a(518),ot=Object(b.b)().catalogApi,it=r.a.createElement(at.a,{position:"start"},"$"),ct=r.a.createElement("span",null,"Saving..."),st=r.a.createElement("img",{width:532,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOiSURBVHhe7do7SyNRGMbx/RyCYOv24n4GLSxdCxVRFLyiiZdEk3hL1gtYaGnh5QvYxjLp1aS0kU0hbAolsFgI6ruc4ytGk0myojOch+cHh3lnIkzxJ8PMxG9C0BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBuds4NnZWYlGoxVraWnp09fc3JxkMhk9s1ucDLy/vy+3t7e6549QKKSTW5wMfHR0JMU/Rd3zh7k6uMjNwMevgVtaWiSZTEosFrMrEU98ykolU9L6vdWewzCXahc5HzgcDtvtV9je3tZJZHFxUSe3OB94cnLSbr/C+vq6TgzsK6/A9/f3MjQ0ZG+IstmsHv04Bg6IV+CRkRGdREZHR3Wq7vr6WsbGxmR8fFxKpZIefYuBA+IVuHxOJBI6Vcrn8zI1NaV7Ij09PVL4XdC9VwwcEK/AZ2dnMjw8LJFIRPb29vToWxcXFxIKVz7T9vf3V0Rm4IB89CYrn8vbN2Be3kdm4IDUC/z09KTTK3NZNq8cjcfHR7utpq+vTwqF58gMHJD//Qbncrma39z3TOSbmxs+BwelXmBzN21egExPT8vV1ZXMz8/rJ40zd+GDg4O6x8C+qhW4q6tLp2dNTU12W+2yXU/7j3adGNhXXoE7Ozt1esvreD27u7s6MbCvygPPzMzYba2IDw8P0tHRoXveisWipNNp2dnZsc/RbW1t+gkD+6o88MTEhH1R0Yjun906iQ358k8C8XhcFhYW5PDw0D5Lm1eextbWlt0aDOyj8sDNzc12W89p+tReznt7eyWVSsn5+bl+4o2PSQEpD1zrd9qTkxOJRCOysrIil5eXerRxq6urOjGwr8oDm3jmMmsCvF9ra2uyubkpG782ZHl5uerf1Fsv+IO/jw4ODuTu753u+YOBfWR+6x0YGLB3uuZb9vLvOl+1zHnM+VzkZGBqHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYmsg/zgu6X0Ra40gAAAAASUVORK5CYII="}),lt=Object(y.a)((function(e){var t=e.activeCatalogItem,a=e.onSaveCatalogItem,o=e.catalogListLoading,i=e.onUploadImage,l=e.onDeleteCatalog,u=t.images&&t.images.length>0,g=!!u&&t.images[0].id,d=u?ot+"/catalogApi/api/v1/catalog/file/"+g:null,f=u?t.images[0].colorRgb:[0,0,0],p=u?{id:t.images[0].id,fileName:t.images[0].fileName}:null,m=Object(n.useState)(Object.assign({},t)),h=m[0],v=m[1],b=Object(n.useState)(d),C=b[0],w=b[1],E=Object(n.useState)(p),O=E[0],x=E[1],L=Object(n.useState)(!u||t.images[0].willFitWidth),S=L[0],A=L[1],j=Object(n.useState)(f),k=j[0],I=j[1],R=Object(n.useState)(f),D=R[0],T=R[1],B=Object(n.useState)(h.unitPrice),N=B[0],F=B[1],M=function(e,t){var a;return v(Object.assign({},h,((a={})[e]=t,a)))},P=ut();return Object(n.useEffect)((function(){if(t._id!==h._id){var e=t.images&&t.images.length>0;v(Object.assign({},t)),w(d),I(f),x(p),A(e&&t.images[0].willFitWidth)}})),r.a.createElement("div",{className:P.textBox},r.a.createElement(nt.a,{className:P.paperEntryContainer},r.a.createElement(We.a,{control:r.a.createElement(_e.a,{checked:"active"===h.status,onChange:function(e){var t=e.target.checked?"active":"disabled";M("status",t)},inputProps:{"aria-label":"primary checkbox"}}),label:"Active"}),r.a.createElement(rt.a,{style:{width:"32%"},label:"Short Desc",value:h.shortDesc,onChange:function(e){return M("shortDesc",e.target.value)}}),r.a.createElement(rt.a,{style:{width:"42%"},label:"Extra Desc",value:h.extraDesc,onChange:function(e){return M("extraDesc",e.target.value)}}),r.a.createElement(rt.a,{style:{width:"20%"},label:"Unit Price:$ "+Object(y.e)(h.unitPrice),value:N||"",InputProps:{startAdornment:it},onChange:function(e){F(e.target.value),M("unitPrice",parseFloat(e.target.value))}}),r.a.createElement(rt.a,{style:{width:"32%"},label:"Model #",value:h.modelNumber||"",onChange:function(e){return M("modelNumber",e.target.value)}}),r.a.createElement(rt.a,{style:{width:"100%"},multiline:!0,rowsMax:4,label:"Description",value:h.description,onChange:function(e){return M("description",e.target.value)}}),!o&&r.a.createElement(n.Fragment,null,r.a.createElement(ye.a,{onClick:function(){return a(h,O,S,k,D)}},"Save"),r.a.createElement(ye.a,{onClick:function(){return l(h)}},"Delete")),o&&ct,r.a.createElement("input",{type:"file",name:"myFile",id:"myFile",onChange:function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.files),(a=new FileReader).onload=function(e){console.log("image read locally"),w(e.target.result)},a.readAsDataURL(t.target.files[0]),e.next=6,i(t.target.files[0],g);case 6:(n=e.sent).uploadImageResult&&x(n.uploadImageResult);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),null!==C?r.a.createElement(Je.PicRatioFill,{width:532,height:415,src:C,onChangeColors:function(e){I(e.colorRgb),T(e.colorRgbOpposite),A(e.willFitWidth)}}):st)}),[U]),ut=Object(m.a)({textBox:{"& > *":{margin:7}},picBorderHeight:{width:"50%",height:415,zIndex:1},picBorderWidth:{width:"100%",height:"50%",zIndex:1},imageBoxHeight:{width:532,height:415,overflow:"hidden",backgroundColor:"#afcdee",display:"flex"},imageBoxWidth:{width:532,height:415,overflow:"hidden",backgroundColor:"#afcdee"},fixHeight:{height:"100%",marginLeft:"auto",marginRight:"auto",position:"relative",zIndex:2},fixWidth:{width:"inherit",position:"absolute",transform:"translateY(-50%)",zIndex:2},paperEntryContainer:{"& > *":{margin:7},padding:10,width:"100%",marginBottom:15,backgroundColor:"#f2f0ea"}}),gt=a(499),dt=a(502),ft=a(145),pt=a(171),mt=a(500),ht=(p.a,d.a,mt.a,d.a,mt.a,Object(m.a)({iconRight:{position:"absolute",right:5,top:function(e){return e.closeButtonTopOffset||-7}},textDisplay:{maxWidth:"calc(100% - 50px)",overflow:"hidden",fontSize:14},itemContainer:{minHeight:20,paddingTop:4,paddingBottom:4}}),tt.a,a(74)),vt=a(497),bt=a(165),yt=a(520),Ct=a(495),wt=a(505),Et=a(498),Ot=a(217),xt=a(503),Lt=a(504),St=r.a.createElement(dt.a,null,"No Data"),At=r.a.createElement(dt.a,null,"No Data"),jt=function(e){function t(t){var a;a=e.call(this)||this;var n=t.maxArrayLength||7;return a.optionActiveRef=r.a.createRef(),a.state={showFullList:t.showFullList||!1,showDropDown:t.showDropDown||!1,searchString:"",filteredPageOptions:t.options.slice(0,7),filteredAllOptions:t.options,autoFocus:t.autoFocus,hasFocusOptionList:!1,hasFocusTextBox:!1,selectedIndex:0,maxArrayLength:n,anchorEl:null},a}Object(l.a)(t,e),t.getValueDisplay=function(e){var t=e.selected&&e.options.filter((function(t){return t[e.keyField]===e.selected[e.keyField]}))||[];return t.length>0?t[0][e.displayField]:""};var a=t.prototype;return a.onShowDropDown=function(e){this.setState({anchorEl:e.currentTarget,showDropDown:!0,filteredPageOptions:this.props.options.slice(0,7),filteredAllOptions:this.props.options})},a.hideDropDown=function(){this.setState({showDropDown:!1})},a.onKeyPress=function(e){13===e.keyCode?!this.state.showFullList&&this.state.filteredPageOptions.length>this.state.selectedIndex?this.onItemSelect(this.state.filteredPageOptions[this.state.selectedIndex]):this.state.showFullList&&this.onItemSelect(this.state.filteredAllOptions[this.state.selectedIndex]):40===e.keyCode?(this.state.showFullList&&this.state.filteredAllOptions.length>this.state.selectedIndex+1&&(this.setState({selectedIndex:this.state.selectedIndex+1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop))),!this.state.showFullList&&this.state.filteredPageOptions.length>this.state.selectedIndex+1&&(this.setState({selectedIndex:this.state.selectedIndex+1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop)))):38===e.keyCode&&this.state.selectedIndex>0&&(this.setState({selectedIndex:this.state.selectedIndex-1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop-46):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop-46)))},a.onSearchChange=function(e){var t=this;if(""!==e){var a=e&&e.toLowerCase?this.props.options.filter((function(a){return Object(y.b)(a,t.props.displayField).toLowerCase().indexOf(e.toLowerCase())>-1})):[];this.setState({searchString:e,filteredPageOptions:a.slice(0,7),selectedIndex:0,filteredAllOptions:a})}else this.setState({searchString:e,filteredPageOptions:this.props.options.slice(0,7),selectedIndex:0,filteredAllOptions:this.props.options})},a.onItemSelect=function(e){e&&(this.props.onChange(e),this.setState({showDropDown:!1,searchString:""}))},a.onSetAnchor=function(e){null===this.state.anchorEl&&null!=e&&this.setState({anchorEl:e})},a.render=function(){var e=this,t=this.constructor.getValueDisplay(this.props),a=this.props,n=a.label,o=a.classes,i=this.state,c=i.anchorEl,s=i.showDropDown,l=Boolean(c)&&s;return r.a.createElement("div",{className:o.root},r.a.createElement(vt.a,{style:{width:"100%"}},r.a.createElement(bt.a,{onClickAway:function(){return e.hideDropDown()}},r.a.createElement("div",null,this.state.showDropDown?r.a.createElement(vt.a,{style:{width:"100%"}},n&&n.length>0&&r.a.createElement(yt.a,{htmlFor:"age-simple"},n),r.a.createElement(Ct.a,{value:this.state.searchString,ref:function(t){e.onSetAnchor(t)},autoFocus:this.state.autoFocus,onChange:function(t){return e.onSearchChange(t.target.value)},onKeyDown:function(t){return e.onKeyPress(t)},endAdornment:r.a.createElement(at.a,{position:"end"},r.a.createElement(Ie.a,{style:{marginRight:10},color:"primary"}),this.props.onClose&&r.a.createElement(xt.a,{style:{marginRight:10,cursor:"pointer"},color:"primary",onClick:function(){return e.props.onClose()}}))})):r.a.createElement(vt.a,{style:{width:"100%"}},n&&n.length>0&&r.a.createElement(yt.a,{htmlFor:"age-simple"},n),r.a.createElement(Ct.a,{autoFocus:this.state.autoFocus,value:t,onClick:function(t){return e.onShowDropDown(t)},onKeyDown:function(t){return e.onShowDropDown(t)},endAdornment:r.a.createElement(at.a,{position:"end"},r.a.createElement(Lt.a,{style:{marginRight:10},color:"primary"}))})),r.a.createElement(wt.a,{open:l,anchorEl:c,style:{position:"fixed",zIndex:9999},transition:!0,disablePortal:!0},(function(t){var a=t.TransitionProps,n=t.placement;return r.a.createElement(Et.a,Object(ht.a)({},a,{id:"menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(nt.a,null,!e.state.showFullList&&r.a.createElement(gt.a,null,e.props.topControl,e.state.filteredPageOptions.length>0&&e.state.filteredPageOptions.map((function(t,a){return r.a.createElement(dt.a,{key:a,selected:a===e.state.selectedIndex,onClick:function(){return e.onItemSelect(t)}},Object(y.b)(t,e.props.displayField))})),0===e.state.filteredPageOptions.length&&St,e.state.filteredPageOptions.length>0&&e.state.maxArrayLength===e.state.filteredPageOptions.length&&r.a.createElement(me.a,{color:"textSecondary",className:o.noOptionsMessage},"...")),e.state.showFullList&&r.a.createElement("div",{style:{maxHeight:300,maxWidth:300,overflow:"auto"},ref:function(t){e.optionContainerRef=t}},r.a.createElement(gt.a,null,e.props.topControl,e.state.filteredAllOptions.length>0&&e.state.filteredAllOptions.map((function(t,a){return a===e.state.selectedIndex?r.a.createElement("span",{key:a,ref:function(t){e.optionActiveRef=t}},r.a.createElement(dt.a,{selected:a===e.state.selectedIndex,onClick:function(){return e.onItemSelect(t)}},Object(y.b)(t,e.props.displayField))):r.a.createElement(dt.a,{key:a,selected:a===e.state.selectedIndex,onClick:function(){return e.onItemSelect(t)}},Object(y.b)(t,e.props.displayField))})),0===e.state.filteredAllOptions.length&&At))))}))))))},t}(r.a.Component),kt=Object(Ot.a)((function(e){return{root:{flexGrow:1,zIndex:99999999,position:"relative"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:56},noOptionsMessage:{padding:e.spacing(1)+"px "+e.spacing(2)+"px"}}}))(jt),It=a(507),Rt=a(506),Dt=(Object(Ot.a)((function(){return{spinnerWrapper:{position:"relative",margin:"auto"},fabProgress:{color:"primary",position:"absolute",left:0,zIndex:1}}}))((function(e){var t=e.classes,a=e.spinnerSize,n=e.style,o=e.loading,i=e.children;return void 0===i||o?r.a.createElement("div",{className:t.spinnerWrapper,style:Object.assign({},n,{width:a})},r.a.createElement(Rt.a,{color:"secondary",style:{width:a,height:a}}),r.a.createElement(It.a,{size:a,className:t.fabProgress})):i})),Object(y.a)((function(e){var t=e.categoryList,a=e.onChange,o=e.categoryListInit,i=e.onCategoryListInit,c=Object(n.useState)(null),s=c[0],l=c[1],u=[{_id:null,category:"All"}].concat(t);return Object(n.useEffect)((function(){o||i()})),r.a.createElement(kt,{label:"Category",showFullList:!0,options:u,keyField:"_id",displayField:"category",onChange:function(e){l(e),a&&a(e)},selected:s})}),[ee])),Tt=r.a.createElement(tt.a,null),Bt=r.a.createElement(lt,null),Nt=Object(y.a)((function(e){e.catalogList;var t=e.catalogListFiltered,a=e.catalogListInit,o=e.onCatalogListInit,i=e.onAddCategoryToCatalog,c=e.onRemoveCategoryFromCatalog,s=e.onSetActiveCatalogItem,l=e.activeCatalogItem,u=e.onSetCatalogStatus,g=e.catalogStatusLoading,d=e.onCategorySelectChange,f=e.onCatalogOrderChange,p=e.savingCatalogSort;Object(n.useEffect)((function(){a||o()}));var m=ne(),h=Object(n.useState)(null),v=h[0],b=h[1],y=null!==l,C=Ft({inEdit:y});return r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{width:360,marginTop:-10,marginBottom:10}},r.a.createElement(Dt,{onChange:function(e){b(e),d(e)}})),r.a.createElement("div",{className:C.mainContainer},r.a.createElement("div",{className:C.scrollContainer},r.a.createElement("div",{className:C.container},t.map((function(e,a){var n=a>0?t[a-1]:null,o=t.length>a-2?t[a+1]:null,d=(v&&o&&o.categories.filter((function(e){return e._id===v._id}))||[]).length>0;return r.a.createElement($e,{key:""+e._id+e.sort,prevCatalog:n,nextCatalog:d?o:null,inEdit:y,catalog:e,category:v,disableEdit:null!=l,onSetStatus:u,onAddCategory:i,onRemoveCategory:c,isSaving:e._id===g,onOrderChange:f,savingCatalogSort:p,onClick:function(){m||s(e)}})})))),y&&r.a.createElement("div",{className:C.containerEdit},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Ae.a,{className:C.editControl,onClick:function(){s(null)}},Tt)),Bt)))}),[U]),Ft=Object(m.a)({scrollContainer:{height:"calc( 100vh - 120px)",width:function(e){return e.inEdit?"24vw":"100%"},overflow:"auto"},container:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",width:"100%"},containerEdit:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",height:80,width:"calc( 75vw - 87px)"},editControl:{position:"absolute",right:10,zIndex:999},mainContainer:{display:"flex",flexWrap:"wrap"}}),Mt=r.a.createElement(Nt,null),Pt=Object(y.a)((function(e){var t=e.onCreateNewCatalog,a=e.onCatalogSearch;e.catalogSearchText;return r.a.createElement(n.Fragment,null,r.a.createElement(ze,{title:"Catalogs",LeftIcon:He.a,onSearchChange:function(e){a(e)},onAdd:function(){t()}}),Mt)}),[U]),zt=a(216),Ht=function(e){e.history;var t=e.permission,a=e.component,n=Object(zt.a)(e,["history","permission","component"]),o=Object(ue.b)(),i=(o.user,o.isLoading),c=o.isAuthenticated;return r.a.createElement(u.b,Object(ht.a)({},n,{render:function(e){return c&&Object(b.c)(t)||i?r.a.createElement(a,e):r.a.createElement(u.a,{push:!0,to:{pathname:"/login",state:{from:e.location}}})}}))},Wt=a(511),_t=a(170),Yt=a(515),Ut=a(509),Gt=a(510),Vt=r.a.createElement(_t.a,null,r.a.createElement(se.a,null)),Jt=r.a.createElement(Ut.a,null),Zt=r.a.createElement(Gt.a,null),Kt=r.a.createElement(yt.a,null,"Sort"),Xt=function(e){var t=e.category,a=e.saveCategory,o=e.deleteCategoey,i=Object(n.useState)(!1),c=i[0],s=i[1],l=Object(n.useState)(Object.assign({},t)),u=l[0],g=l[1],d=function(e,t){var a;g(Object.assign({},u,((a={})[e]=t,a))),s(!0)},f=qt();return r.a.createElement(nt.a,{className:f.paper},r.a.createElement(ft.a,{style:{display:"flex"}},Vt,r.a.createElement(pt.a,{primary:u.category,classes:{primary:c?f.title:void 0}}),r.a.createElement(_t.a,null,r.a.createElement(Ae.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:f.edgeEndChange},onClick:function(){a(u),s(!1)}},Jt)),r.a.createElement(_t.a,null,r.a.createElement(Ae.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:f.edgeEndChange},onClick:function(){o(u),s(!1)}},Zt))),r.a.createElement(ft.a,null,r.a.createElement(We.a,{style:{width:"50%"},control:r.a.createElement(_e.a,{checked:u.systemOnly,onChange:function(e){var t=e.target.checked;d("systemOnly",t)},inputProps:{"aria-label":"primary checkbox"}}),label:"System"}),r.a.createElement(vt.a,{className:f.formControl},Kt,r.a.createElement(Yt.a,{value:u.sort,onChange:function(e){d("sort",e.target.value)}},[0,1,2,3,4,5,6,7,8,9,10].map((function(e){return r.a.createElement(dt.a,{key:e,value:e},e)}))))),r.a.createElement(ft.a,null,r.a.createElement(rt.a,{style:{width:"100%"},label:"Title",value:u.category,onChange:function(e){return d("category",e.target.value)}})))},qt=Object(m.a)((function(){return{paper:{minHeight:140,width:"100%"},edgeEndChange:{marginRight:-20},title:{fontWeight:900,color:"limegreen",fontSize:"x-large"}}})),Qt=Object(y.a)((function(e){var t=e.onCategoryListInit,a=e.categoryListInit,o=e.categoryList,i=e.onSaveCategoryItem,c=e.onDeleteCategory;Object(n.useEffect)((function(){a||t()}));var s=$t();return r.a.createElement(n.Fragment,null,r.a.createElement(Wt.a,{container:!0,className:s.root,spacing:2},o.map((function(e,t){return r.a.createElement(Wt.a,{item:!0,xs:12,md:4,key:e._id},r.a.createElement(Xt,{category:e,saveCategory:i,deleteCategoey:c}))}))))}),[ee]),$t=Object(m.a)((function(){return{root:{flexGrow:1},paper:{minHeight:140,width:"100%"},control:{}}})),ea=r.a.createElement(Qt,null),ta=Object(y.a)((function(e){var t=e.onCreateNewCategory,a=aa();return r.a.createElement(n.Fragment,null,r.a.createElement(ze,{title:"Category",LeftIcon:He.a,onSearchChange:function(e){},onAdd:function(){t()}}),r.a.createElement("div",{className:a.mainContainer},ea))}),[ee]),aa=Object(m.a)({mainContainer:{backgroundColor:"#e8e7e7",minHeight:"calc(100vh - 65px)",padding:5,marginTop:-10}}),na=a(512),ra=a(513),oa=function(e){var t=e.errorMessage,a=e.onClearErrorMessage,n=e.status,o="#ff525b",i=na.a;return"success"===n&&(o="#1ead29",i=ra.a),r.a.createElement(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!!(t&&t.length>0),autoHideDuration:6e3,onClose:a},r.a.createElement(nt.a,{style:{padding:10,backgroundColor:o,display:"flex"},elevation:3},r.a.createElement(i,{style:{marginRight:15,color:"white"}}),r.a.createElement(me.a,{style:{color:"white"}},t),r.a.createElement(tt.a,{onClick:a,style:{marginLeft:15,color:"white",cursor:"pointer"}})))},ia=(Object(m.a)({alertLabel:{fontSize:20}}),d.a,r.a.createElement(u.b,{exact:!0,path:"/logOut",component:Oe})),ca=r.a.createElement(u.b,{exact:!0,path:"/logcomplete",component:Oe}),sa=function(e){function t(){var t;return(t=e.call(this)||this).state={isMobile:window.innerWidth<=760,errorMessage:"",showAlert:!1,alertStatus:"",tokenLoading:!1,tokenLoaded:!1},t}Object(l.a)(t,e);var a=t.prototype;return a.onCloseAlert=function(){this.setState({errorMessage:"",alertStatus:""})},a.componentDidMount=function(){var e=this;Object(y.d)(this),Object(b.d)();window.addEventListener("resize",(function(){e.setState({isMobile:window.innerWidth<=760})}))},a.render=function(){var e=this,t=function(){var t=Object(s.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.auth0.getAccessTokenSilently,t.prev=1,e.setState({tokenLoading:!0}),t.next=5,a();case 5:n=t.sent,console.log("-------- Token Complete First Try -------"),console.log(n),Object(b.f)(n),e.setState({errorMessage:"You Have Access",alertStatus:"success",tokenLoaded:!0}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a().then((function(t){Object(b.f)(t),console.log("-------- Token Complete second Try-------"),console.log(t),e.setState({errorMessage:"Access Allowed",alertStatus:"success",tokenLoaded:!0})})).catch((function(t){console.log("-------- No Token -------"),console.log(t.message||t),e.setState({errorMessage:t.message})}));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}(),a=this.props.auth0,n=(a.user,a.isLoading),o=this.state,i=(o.isMobile,o.errorMessage),l=o.alertStatus,u=o.tokenLoading,d=o.tokenLoaded;n||u||d||""!==i||(console.log("--- user render ---"),console.log({errorMessage:i,isLoading:n,tokenLoading:u,tokenLoaded:d}),console.log(this.props.auth0),t());var f=Object(ae.getLoginRoute)(),p=fe;return r.a.createElement(te,null,r.a.createElement(oa,{errorMessage:i,onClearErrorMessage:function(){return e.onCloseAlert()},status:l}),r.a.createElement(g.a,null,r.a.createElement(p,null,r.a.createElement("div",null,r.a.createElement(f,null),ia,ca,r.a.createElement(Ht,{permission:1,exact:!0,path:"/",component:Pt}),r.a.createElement(Ht,{permission:1,exact:!0,path:"/category",component:ta})))))},t}(r.a.Component),la=Object(ue.c)(sa),ua=a(71),ga=a(481),da=a(116),fa=a(514),pa=Object(ua.a)({typography:{useNextVariants:!0},palette:{textColor:da.a.A700,primary:{main:"#3d6090",success:"#4caf50",idle:fa.a[500]},secondary:{main:"#428bca"}}});Object(o.render)(r.a.createElement(ue.a,{domain:"netware.auth0.com",clientId:"Aa7xpZd1nciCoIStp8BYJZO2Oix8WH2R",audience:"https://eventnod.netware.io",redirectUri:""+window.location.origin,scope:"read.events"},r.a.createElement(ga.a,{theme:pa},r.a.createElement(la,null))),document.querySelector("#app"))},58:function(e,t,a){"use strict";var n=a(73),r=a(14),o=null,i=function(){var e=Object(r.b)();return{userNotAuthorized:!1,userLoggedIn:Object(r.e)(),name:e.name,picUrl:e.picUrl,userFeatures:e.featurePermissions||[],faceLoginMessage:null,passwordMessage:"",confirmPasswordMessage:"",profileLoading:!1,onSetAccount:s,onNotifyMainNavOfLogOff:c}},c=function(){o.setState({userLoggedIn:!1})},s=function(e){console.log("loginInfo"),console.log(e),Object(r.g)(e),o.setState({picUrl:e.picUrl,name:e.name,email:e.email,userLoggedIn:!0})};t.a=Object(n.a)(i,(function(e){return o=e,i()}))},73:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(74),r=a(209),o=a(72),i=a(0),c=a.n(i),s=function(e,t){var a=c.a.createContext(e()),i=function(e){function n(a){var n;n=e.call(this,a)||this;var o=a&&a.match&&a.match.params&&a.match.params.testMode&&a.match.params.testMode.indexOf("testMode")>-1&&a.match.params.testMode;return n.state=t(Object(r.a)(n),o||""),n}return Object(o.a)(n,e),n.prototype.render=function(){return c.a.createElement(a.Provider,{value:this.state},this.props.children)},n}(c.a.Component);return{ModelContext:a,ModelProvider:i,connect:function(e,t){return c.a.createElement(a.Consumer,null,(function(a){return c.a.createElement(e,Object(n.a)({},a,t))}))}}}},9:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return l}));var n=a(217),r=null,o=function(e){return r=e},i=function(e,t,a){void 0===a&&(a=null);var r=[],o=null!==a?Object(n.a)(a)(e):e;return t.forEach((function(e,t){if(0===t){r.push((function(t){return e.connect(o,t)}))}else{r.push((function(a){return e.connect(r[t-1],a)}))}})),r[r.length-1]},c=function(e,t){var a=e||"";if("function"==typeof t)a=t(e);else if(""!==t){(t&&t.split(".")||[]).forEach((function(e){a=a&&a[e]}))}return a};var s=function(){return function(e){if(e.ok)return e.json();throw 401===e.status&&r.setState({errorMessage:"Unauthorized"}),new Error(e.status)}},l=function(e){return parseFloat(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}}},[[229,1,2]]]);
//# sourceMappingURL=app.23825793.js.map