(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,n){e.exports=n(161)},111:function(e,t,n){},15:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return f}));var a={token:localStorage.getItem("token"),name:localStorage.getItem("name")||"",picUrl:localStorage.getItem("picUrl")||"",email:localStorage.getItem("email")||"",featurePermissions:[]};try{var r=localStorage.getItem("featurePermissions");a.featurePermissions=r?JSON.parse(r):[]}catch(e){a.featurePermissions=[]}var o=function(e){localStorage.setItem("token",e),a.token=e;var t=g(e);c(t.exp)},i=function(){},c=function(e){var t=n(58).navigate;l();var r=1e3*e-new Date-6e4;r>30?a.logOutTimer=setTimeout((function(){return t("#/logout")}),r):e>0&&t("#/logout")},l=function(){a.logOutTimer>-1&&(clearTimeout(a.logOutTimer),a.logOutTimer=-1)},u=function(){return a.token&&null!==a.token},s=function(){return a},m=function(e){return a.featurePermissions.indexOf(e)>-1},d=function(e){var t=e.name,n=e.picture,r=e.email;return a.featurePermissions=[1],localStorage.setItem("name",t),localStorage.setItem("email",r),localStorage.setItem("picUrl",n),localStorage.setItem("featurePermissions",JSON.stringify(a.featurePermissions)),a.name=t,a.email=r,a.picUrl=n,a.featurePermissions=[1],a},f=function(){a.featurePermissions=[],localStorage.removeItem("featurePermissions")},g=function(e){var t=e&&e.split(".");if(t&&t.length>0){var n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(n))}return{}}},161:function(e,t,n){"use strict";n.r(t);n(111);var a,r=n(0),o=n.n(r),i=n(7),c=n(78),l=n.n(c),u=n(97),s=n(59),m=n(8),d=n(57),f=n(34),g=function(e){var t=e.children;return o.a.createElement(f.a.ModelProvider,null,t)},p=n(58),h=n(102),v=n(90),b=n(193),w=n(43),E=n(190),O=n(191),j=n(192),x=[{label:"Home",icon:E.a,selected:!(window.location.href.includes("cashMovements")||window.location.href.includes("keyLogs")),link:"#/",route:"/",isMobile:!0},{label:"Cash Move",icon:O.a,selected:window.location.href.includes("cashMovements"),link:"#/cashMovements",route:"/cashMovements",featureId:1,isMobile:!0},{label:"Key Logs",icon:j.a,selected:window.location.href.includes("keyLogs"),link:"#/keyLogs",route:"/keyLogs",featureId:1,isMobile:!0}],y=n(15),C=n(27),L=a?x.filter((function(e){return e.isMobile})):x,S=[{label:"Logout",icon:b.a,link:"#/logout"}],M=Object(w.a)((function(e){var t=e.children,n=(e.firstName,e.lastName,e.userLoggedIn,e.picUrl,e.userFeatures),a=function(){var e=Object(r.useState)(window.innerWidth<=760),t=e[0],n=e[1],a=function(){n(window.innerWidth<=760)};return Object(r.useEffect)((function(){return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}})),t}(),i=N(a),c=Object(C.b)(),l=(c.isLoading,c.isAuthenticated,c.error,c.user),u=(c.loginWithRedirect,c.logout,L.filter((function(e){return void 0===e.featureId||n.indexOf(e.featureId)>-1}))),s=Object(y.b)();return console.log(l),l&&(Object(y.g)(l),s.picUrl=l.picture,s.name=l.name),s.name&&o.a.createElement("div",null,o.a.createElement(h.SideStrip,{mainLinks:u,bottomLinks:S,onMenuClose:function(){},expandMenu:!1,userLabel:s.name,imageUrl:decodeURIComponent(s.picUrl)}),o.a.createElement("div",{className:i.mainContainer},t))||o.a.createElement("div",null,t)}),[f.a]),N=function(e){return Object(v.a)({mainContainer:{marginLeft:e?0:70}})()},I=n(189),k=n(183),P=n(184),U=n(195),A=n(93),W=n(194),R=o.a.createElement(I.a,null,"You have been logged out."),T=o.a.createElement("span",null,"... logging out please wait"),z=Object(w.a)((function(e){var t=e.onNotifyMainNavOfLogOff,n=e.userLoggedIn,a=D(),i=Object(C.b)(),c=i.loginWithRedirect,l=i.logout,u=i.isAuthenticated,s=i.isLoading;return Object(r.useEffect)((function(){Object(y.a)(),u&&l({returnTo:window.location.origin+"/#/logout"}),n&&t()})),o.a.createElement("form",{id:"logout-submit",className:a.mainContainer},!s&&!u&&o.a.createElement(k.a,{style:{display:"flex"}},o.a.createElement("div",{className:a.outerCard},o.a.createElement(P.a,{className:a.cardContainer},o.a.createElement("img",{src:"retail-shop-flat-icon_small.jpg",className:a.logo}),o.a.createElement("div",{className:a.messageContainer},o.a.createElement(W.a,{className:a.iconSpacing}),R)),o.a.createElement(U.a,null,o.a.createElement(A.a,{variant:"contained",color:"secondary",className:a.actionButton,onClick:function(){c()}},o.a.createElement(b.a,{style:{marginRight:10}})," Login")))),(s||u)&&T)}),[f.a]),D=Object(v.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170},logo:{width:250,margin:"auto"},actionButton:{width:"80%",margin:"auto"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"}}),H=function(e){e.history;var t=Object(C.b)(),n=t.user,a=t.isAuthenticated;return o.a.createElement("div",null,"Hi test",o.a.createElement("p",null,"authDomain"),a&&o.a.createElement("div",null,o.a.createElement("h2",null,n.name),o.a.createElement("p",null,n.email),o.a.createElement("p",null,"authDomain")))},J=(n(60),n(103),o.a.createElement(m.b,{exact:!0,path:"/logOut",component:z})),B=o.a.createElement(m.b,{exact:!0,path:"/logcomplete",component:z}),F=function(e){function t(){var t;return(t=e.call(this)||this).state={isMobile:window.innerWidth<=760},t}Object(s.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;Object(y.d)();window.addEventListener("resize",(function(){e.setState({isMobile:window.innerWidth<=760})}));var t=this.props.auth0,n=(t.user,t.getAccessTokenSilently);(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:t=e.sent,console.log(t),Object(y.f)(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("---------------"),console.log(e.t0.message||e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()},n.render=function(){var e=Object(p.getLoginRoute)(),t=(this.state.isMobile,M);return o.a.createElement(g,null,o.a.createElement(d.a,null,o.a.createElement(t,null,o.a.createElement("div",null,o.a.createElement(e,null),J,B,o.a.createElement(m.b,{permission:1,exact:!0,path:"/",component:H})))))},t}(o.a.Component),_=Object(C.c)(F),q=n(42),K=n(188),V=n(69),Y=n(196),G=Object(q.a)({typography:{useNextVariants:!0},palette:{textColor:V.a.A700,primary:{main:"#3d6090",success:"#4caf50",idle:Y.a[500]},secondary:{main:"#428bca"}}});Object(i.render)(o.a.createElement(C.a,{domain:"authDomain",clientId:"authClientId",audience:"authAudience",redirectUri:""+window.location.origin},o.a.createElement(K.a,{theme:G},o.a.createElement(_,null))),document.querySelector("#app"))},34:function(e,t,n){"use strict";var a,r,o,i,c=n(60),l=n(98),u=n(59),s=n(0),m=n.n(s),d=n(15),f=null,g=function(){var e=Object(d.b)();return{userNotAuthorized:!1,userLoggedIn:Object(d.e)(),name:e.name,picUrl:e.picUrl,userFeatures:e.featurePermissions||[],faceLoginMessage:null,passwordMessage:"",confirmPasswordMessage:"",profileLoading:!1,onSetAccount:h,onNotifyMainNavOfLogOff:p}},p=function(){f.setState({userLoggedIn:!1})},h=function(e){console.log("loginInfo"),console.log(e),Object(d.g)(e),f.setState({picUrl:e.picUrl,name:e.name,email:e.email,userLoggedIn:!0})};t.a=(a=g,r=function(e){return f=e,g()},o=m.a.createContext(a()),i=function(e){function t(t){var n;n=e.call(this,t)||this;var a=t&&t.match&&t.match.params&&t.match.params.testMode&&t.match.params.testMode.indexOf("testMode")>-1&&t.match.params.testMode;return n.state=r(Object(l.a)(n),a||""),n}return Object(u.a)(t,e),t.prototype.render=function(){return m.a.createElement(o.Provider,{value:this.state},this.props.children)},t}(m.a.Component),{ModelContext:o,ModelProvider:i,connect:function(e,t){return m.a.createElement(o.Consumer,null,(function(n){return m.a.createElement(e,Object(c.a)({},n,t))}))}})},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(104),r=function(e,t,n){void 0===n&&(n=null);var r=[],o=null!==n?Object(a.a)(n)(e):e;return t.forEach((function(e,t){if(0===t){r.push((function(t){return e.connect(o,t)}))}else{r.push((function(n){return e.connect(r[t-1],n)}))}})),r[r.length-1]}},58:function(e,t,n){"use strict";n.r(t),n.d(t,"getHistory",(function(){return v})),n.d(t,"navigate",(function(){return b})),n.d(t,"getLoginRoute",(function(){return w}));var a=n(0),r=n.n(a),o=n(8),i=n(183),c=n(184),l=n(90),u=n(34),s=n(43),m=Object(l.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170,minWidth:240,textAlign:"center"},logo:{width:250,margin:"auto"},actionButton:{width:"80%",margin:"10px"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"},cardActionsContainer:{display:"flex",flexDirection:"column"}}),d=Object(s.a)((function(e){var t=e.userNotAuthorized,n=e.firstName,o=e.lastName,l=(e.onSetAccount,e.onCreateProfile,e.onFaceLogin,e.faceLoginMessage,e.profileLoading,m()),u=Object(a.useState)(!1),s=(u[0],u[1],Object(a.useState)(!1)),d=(s[0],s[1],Object(a.useState)(!1));d[0],d[1];return r.a.createElement("form",{id:"logon-submit",action:"/login/google/source",className:l.mainContainer},r.a.createElement(i.a,{style:{display:"flex"}},r.a.createElement("div",{className:l.outerCard},r.a.createElement(c.a,{className:l.cardContainer},r.a.createElement("img",{src:"ncr_logo.jpg",className:l.logo}),t&&r.a.createElement("div",null,"User ",n," ",o," is not authorized to use this site")))))}),[u.a]),f={loaded:!1,history:null},g=r.a.createElement(o.b,{exact:!0,path:"/login",component:d}),p=function(e){var t=e.history;return h(t),g},h=function(e){f.history=e,f.loaded=!0},v=function(){return f},b=function(e){window.location.href=e},w=function(){return Object(o.f)(p)}}},[[110,1,2]]]);
//# sourceMappingURL=app.011e40a4.js.map