{"version":3,"sources":["webpack:///./src/models/accounts/userAuthStore.js","webpack:///./src/desktop/accounts/LoginStart.js","webpack:///./src/route/history.js","webpack:///./src/models/home/catalogMessage.js","webpack:///./src/models/home/catalogHelper.js","webpack:///./src/models/home/catalogModel.js","webpack:///./src/models/home/categoryMessage.js","webpack:///./src/models/home/categoryModel.js","webpack:///./src/GlobalProviders.js","webpack:///./src/utility/useIsMobile.js","webpack:///./src/models/home/menuStore.js","webpack:///./src/desktop/home/FullMenuNav.js","webpack:///./src/desktop/accounts/LoggedOut.js","webpack:///./src/utility/components/SearchTextBox.js","webpack:///./src/utility/components/AppBarTitle.js","webpack:///./src/desktop/catalog/CatalogCard.js","webpack:///./src/desktop/catalog/CatalogItemEdit.js","webpack:///./src/utility/components/NoData.js","webpack:///./src/utility/components/Select/SelectedList.js","webpack:///./src/utility/components/SelectSearch.js","webpack:///./src/desktop/catalog/CategorySelect.js","webpack:///./src/utility/components/SpinnerDownloading.js","webpack:///./src/desktop/catalog/CatalogTable.js","webpack:///./src/desktop/home/HomeMain.js","webpack:///./src/route/PrivateRoute.js","webpack:///./src/desktop/catalog/CategoryItemEdit.js","webpack:///./src/desktop/catalog/CategoryTable.js","webpack:///./src/desktop/home/CategoryMaintenance.js","webpack:///./src/route/RouteConfig.js","webpack:///./src/index.js","webpack:///./src/models/accounts/accountModel.js","webpack:///./src/utility/modelContext.js","webpack:///./src/utility/helpers.js"],"names":["userAuthData","token","localStorage","getItem","name","picUrl","email","featurePermissions","userDomain","catalogApi","process","stringFeatures","JSON","parse","ex","setTokenValue","setItem","tokenData","readToken","setLogOutTimer","exp","initAuthStore","expiresOn","navigate","require","clearLogOutTimer","msToTimeOut","Date","logOutTimer","setTimeout","clearTimeout","isLoggedIn","getStore","hasFeature","featureId","console","log","indexOf","setUserData","a","picture","userId","getUserDomain","domain","stringify","clearToken","removeItem","split","length","base64","replace","window","atob","useStyles","makeStyles","mainContainer","width","maxWidth","margin","leftContainer","height","paddingLeft","cardContainer","minHeight","minWidth","textAlign","logo","actionButton","messageContainer","display","iconSpacing","marginRight","outerCard","cardActionsContainer","flexDirection","LogIn","connectArray","classes","loginWithRedirect","useAuth0","id","action","className","Card","style","CardContent","src","CardActions","Button","variant","color","onClick","returnTo","location","origin","accountModel","historyModel","loaded","history","exact","path","component","LoginRouteComponent","setHistory","getHistory","href","getLoginRoute","withRouter","saveCatalogStatus","status","url","payloadGeneric","method","headers","fetch","then","handleResponse","result","success","saveCatalogStatusResult","catalogStatusLoading","catch","error","catalogListLoadError","message","deleteCatalog","catalog","deleteCatalogRecord","_id","images","forEach","file","deleteFile","catalogId","deleteCatalogResult","catalogListLoading","deleteCatalogResultError","fileId","deleteImageResult","deleteImageResultError","uploadImage","fileToUpload","formData","FormData","append","body","uploadImageResult","imageLoading","uploadImageResultError","saveCatalog","itemToSave","saveCatalogResult","activeCatalogItem","getCatalogList","catalogList","sortCatalog","categoryId","calc","sort","b","aHasCategory","categories","bHasCategory","filterA","filter","aItem","filterB","bItem","swapOrder","category","swapCatalog","target","swap","targetCategory","cate","swapCategory","newTarget","provider","createModel","catalogListFiltered","savingCatalogSort","catalogListInit","categorySelected","onCatalogListInit","onSetActiveCatalogItem","onSaveCatalogItem","onUploadImage","onCreateNewCatalog","onDeleteCatalog","onSetCatalogStatus","onAddCategoryToCatalog","onRemoveCategoryFromCatalog","onCategorySelectChange","onCatalogOrderChange","setState","commonSaveCatalogItem","state","maxSort","cat","searchCate","newCatalog","modifiedCount","map","imageToSave","oldFileId","itemEdit","uploadImageMetadata","willFitWidth","colorRgb","colorRgbOther","fileShowing","search","find","im","setActiveItem","ct","upsertedCount","newState","catalogModel","createContext","classInstance","getCategoryList","categoryList","categoryListLoading","categoryListLoadError","saveCategory","saveCategoryResult","activeCategoryItem","categoryListInit","onCategoryListInit","onSetActiveCategoryItem","onSaveCategoryItem","onCreateNewCategory","onDeleteCategory","isNew","deleteCategoryResult","deleteCategoryResultError","categoryModel","GlobalProviders","children","ModelProvider","useIsMobile","useState","innerWidth","isMobile","setIsMobile","resize","useEffect","addEventListener","removeEventListener","mobileOnly","mainLinksAll","label","icon","Home","selected","includes","link","route","Category","bottomLinks","Input","FullMenuNav","userFeatures","firstName","lastName","userLoggedIn","isLoading","user","isAuthenticated","mainLinks","logout","undefined","userInfo","onMenuClose","expandMenu","userLabel","imageUrl","decodeURIComponent","marginLeft","Typography","LoggedOut","onNotifyMainNavOfLogOff","Info","Search","SearchTextBox","onSearchChange","useStyle","searchIcon","InputBase","placeholder","onChange","event","value","root","inputRoot","input","inputInput","inputProps","theme","padding","spacing","transition","transitions","create","breakpoints","up","position","pointerEvents","alignItems","justifyContent","backgroundColor","palette","background","paper","fontSize","marginBottom","boxShadow","rootMobile","marginTop","toolBar","avatar","primary","main","searchTextContainer","right","top","childContainerNoSearch","childContainer","searchTextBox","searchTextLabel","menuButton","labelTitle","labelTitleWithTextBox","Add","AppBarTitleAddSearch","title","LeftIcon","hideSearch","onAdd","addLabel","childHasTextBox","onAvatarClick","AppBar","Toolbar","startIcon","IconButton","PropTypes","elementType","isRequired","string","ThreeSixty","ArrowUpward","ArrowDownward","CatalogCard","calcCardSize","cardWidth","setCardWidth","inEdit","onSetStatus","disableEdit","isSaving","onAddCategory","onRemoveCategory","onOrderChange","prevCatalog","nextCatalog","contWidth","widthCalc","heightPicCalc","resizeWidth","res","widthValue","imageIsConfig","imageId","heightValue","isInCategory","inCategoryEdit","card","FormControlLabel","control","Checkbox","checked","newStatus","catPrice","toCurrency","unitPrice","aria-label","buttonUp","imageBoxWidth","imageBoxHeight","colorRgbOpposite","buttonDown","CardHeader","shortDesc","subheader","extraDesc","cardTitle","cardSubheader","zIndex","font","props","overflow","left","bottom","InputAdornment","CatalogItemEdit","rgbData","metaUpload","fileName","setItemEdit","setUpLoadImage","setUpLoadImageMetadata","setWillFitWidth","setColorRgb","setColorRgbOther","setUnitPrice","onValueChange","fieldName","textBox","Paper","paperEntryContainer","TextField","InputProps","startAdornment","parseFloat","modelNumber","multiline","rowsMax","description","type","files","reader","FileReader","onload","e","readAsDataURL","uploadResult","onChangeColors","picBorderHeight","picBorderWidth","fixHeight","fixWidth","transform","Chip","Avatar","LibraryBooks","iconRight","closeButtonTopOffset","textDisplay","itemContainer","paddingTop","paddingBottom","Close","MenuItem","SelectSearchComponent","maxOptions","maxArrayLength","optionActiveRef","React","createRef","showFullList","showDropDown","searchString","filteredPageOptions","options","slice","filteredAllOptions","autoFocus","hasFocusOptionList","hasFocusTextBox","selectedIndex","anchorEl","getValueDisplay","searchSelectedItem","item","keyField","displayField","onShowDropDown","this","currentTarget","hideDropDown","onKeyPress","keyCode","onItemSelect","optionContainerRef","scrollTo","offsetTop","scrollTop","filtered","toLowerCase","getItemPropertyValue","onSetAnchor","ref","render","valueDisplay","constructor","isShowDropDown","Boolean","FormControl","ClickAwayListener","onClickAway","InputLabel","htmlFor","onKeyDown","endAdornment","onClose","ArrowDropUp","cursor","ArrowDropDown","Popper","open","disablePortal","TransitionProps","placement","Grow","transformOrigin","MenuList","topControl","index","key","noOptionsMessage","maxHeight","Component","SelectSearch","withStyles","flexGrow","text","secondary","CategorySelect","spinnerWrapper","fabProgress","spinnerSize","loading","CircularProgress","size","setSelected","modList","CatalogTable","setCategorySelected","scrollContainer","container","nextIsInCategory","containerEdit","editControl","flexWrap","HomeMain","OpenWith","PrivateRoute","permission","rest","push","to","pathname","from","ListItemIcon","Save","Delete","CategoryItemEdit","deleteCategoey","itemChanged","setItemChanged","ListItem","ListItemText","edge","edgeEnd","edgeEndChange","systemOnly","formControl","Select","fontWeight","CategoryTable","Grid","xs","md","CategoryMaintenance","RouteComponent","errorMessage","componentDidMount","setRouteComponent","getAccessTokenSilently","auth0","accessToken","getToken","LoginRoute","MenuNav","withAuth0","muiTheme","createMuiTheme","typography","useNextVariants","textColor","grey","A700","idle","yellow","clientId","audience","redirectUri","scope","RouteConfig","document","querySelector","userStore","userNotAuthorized","faceLoginMessage","passwordMessage","confirmPasswordMessage","profileLoading","onSetAccount","loginInfo","getInitialState","ModelContext","testMode","match","params","Provider","connect","UserComponent","componentProps","Consumer","vm","routeComponent","compoent","arrayOfModels","styles","intermediateComponents","startComponent","model","targetObject","propValue","childField","response","ok","json","Error","theNumber","toFixed"],"mappings":"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","file":"app.f04ec7a9.js","sourcesContent":["\nconst userAuthData = {\n    token: localStorage.getItem('token'),\n    name: localStorage.getItem('name') || \"\",\n    picUrl: localStorage.getItem('picUrl') || \"\",\n    email: localStorage.getItem('email') || \"\",\n    featurePermissions: [],\n    userDomain: localStorage.getItem('userDomain') || \"\",\n    catalogApi: process.env.CATALOG_API\n};\n\ntry {\n    const stringFeatures = localStorage.getItem('featurePermissions');\n    userAuthData.featurePermissions = stringFeatures ? JSON.parse(stringFeatures) : [];\n} catch (ex) {\n    userAuthData.featurePermissions = [];\n}\n\nexport const setTokenValue = (token) => {\n    localStorage.setItem('token', token);\n    userAuthData.token = token;\n    const tokenData = readToken(token);\n    setLogOutTimer(tokenData.exp);\n};\n\nexport const initAuthStore = ()=> {\n    //setLogOutTimer(userAuthData.expiresOn);\n};\n\nconst setLogOutTimer = (expiresOn) => {\n    const {navigate} = require(\"../../route/history\");\n    clearLogOutTimer();\n    //time out 60 seconds before token expires\n    const msToTimeOut = (expiresOn * 1000 ) - new Date() - 60000;\n\n    if(msToTimeOut > 30) {\n        userAuthData.logOutTimer = setTimeout(\n            () => navigate(\"#/logout\"),\n            msToTimeOut\n        );\n    } else if (expiresOn > 0) {\n        navigate(\"#/logout\");\n    }\n};\n\nconst clearLogOutTimer = () => {\n    if(userAuthData.logOutTimer > -1) {\n        clearTimeout(userAuthData.logOutTimer);\n        userAuthData.logOutTimer = -1;\n    }\n};\n\nexport const isLoggedIn = () => userAuthData.token && userAuthData.token !== null;\n\nexport const getStore = () => userAuthData;\n\nexport const getFullName = () =>\n    userAuthData.name;\n\nexport const hasFeature = (featureId) => {\n    console.log(\"---- token hasFeature ----\");\n    console.log(userAuthData.token);\n    return userAuthData.featurePermissions.indexOf(featureId) > -1;\n};\n\nexport const getAuthHeaderValue = () => {\n    return userAuthData.token !== null ? `bearer ${userAuthData.token}` : \"\";\n};\n\nexport const setUserData = async ({name, picture, email, userId}) => {\n    userAuthData.featurePermissions = [1];\n    //localStorage.setItem('token', token);\n    const domain = await getUserDomain(userId);\n    localStorage.setItem('name', name);\n    localStorage.setItem('email', email);\n    localStorage.setItem('picUrl', picture);\n    localStorage.setItem('userDomain', domain);\n    localStorage.setItem('featurePermissions',\n        JSON.stringify(userAuthData.featurePermissions));\n\n    userAuthData.name = name;\n    userAuthData.email = email;\n    userAuthData.picUrl = picture;\n    userAuthData.userDomain = domain;\n    userAuthData.featurePermissions = [1];\n\n    return userAuthData;\n};\n\nexport const clearToken = () => {\n    //userAuthData.name = null;\n    //userAuthData.email = null;\n    //userAuthData.picUrl = null;\n    userAuthData.featurePermissions = [];\n    //localStorage.removeItem('name');\n    //localStorage.removeItem('email');\n    localStorage.removeItem('featurePermissions');\n    //localStorage.removeItem('picUrl');\n};\n\n// noinspection JSUnusedGlobalSymbols\nexport const readToken = (token) => {\n    const split = token && token.split('.');\n    if(split && split.length > 0) {\n        const base64Url = token.split('.')[1];\n        const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n        return JSON.parse(window.atob(base64));\n    }\n    else\n        return {};\n};\n\nexport const getUserDomain = async (userId) => {\n\n    return \"darbyfurnitureoutlet.com\";\n};\n","import React from \"react\";\nimport { Card, CardContent,\n    CardActions, Button } from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { Input as LoginIcon } from '@material-ui/icons';\nimport accountModel from \"../../models/accounts/accountModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nexport const LogInComponent = ({}) => {\n    const classes = useStyles();\n    const { loginWithRedirect } = useAuth0();\n    // noinspection HtmlUnknownTarget\n    return (\n        <form id=\"logon-submit\"\n              action=\"/login/google/source\"\n              className={classes.mainContainer}>\n            <Card style={{display: \"flex\"}}>\n                <div className={classes.outerCard}>\n                    <CardContent className={classes.cardContainer}>\n                        <img src={\"retail-shop-flat-icon_small.jpg\"}\n                             className={classes.logo}/>\n                    </CardContent>\n                    <CardActions>\n                        <Button variant=\"contained\"\n                                color=\"secondary\"\n                                className={classes.actionButton}\n                                onClick={() => {\n                                    loginWithRedirect(\n                                        {returnTo: `${window.location.origin}/#/`}\n                                    );\n                                }}\n                        >\n                            <LoginIcon style={{marginRight: 10}}/> Login\n                        </Button>\n\n                    </CardActions>\n                </div>\n            </Card>\n        </form>\n    );\n};\n\nconst useStyles = makeStyles({\n    mainContainer:{width: \"80%\", maxWidth: 460, margin: '100px auto'},\n    leftContainer: {height: 400,width: 300, paddingLeft: 4},\n    cardContainer: {minHeight: 170,minWidth:240, textAlign:'center'},\n    logo: {width: 250, margin: \"auto\"},\n    actionButton: {width: \"100%\", margin:\"10px\"},\n    messageContainer: { display: \"flex\", width:235, margin:\"40px auto\"},\n    iconSpacing: { marginRight: 12},\n    outerCard: {margin: \"45px auto\"},\n    cardActionsContainer:{display:'flex', flexDirection: 'column'}\n});\n\nexport const LogIn = connectArray(LogInComponent, [accountModel]);\n","import React from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport { LogIn } from \"../desktop/accounts/LoginStart\";\n//this module is used to get a backdoor to the react router history object.\n//did not want ot pass history object all the way through to utility modules\nconst historyModel = {\n    loaded: false,\n    history: null\n};\n\nconst LoginRouteComponent = ({history}) => {\n    setHistory(history);\n    return (\n        <Route exact path=\"/login\" component={LogIn} />\n    );\n};\n\nconst setHistory = (history) => {\n    historyModel.history = history;\n    historyModel.loaded = true;\n};\n\nexport const getHistory = () => {\n    return historyModel;\n};\n\nexport const navigate = (location) => {\n    window.location.href = location;\n};\n\n// noinspection JSCheckFunctionSignatures\nexport const getLoginRoute = () => withRouter(LoginRouteComponent);","import {getStore} from \"../accounts/userAuthStore\";\nimport {handleResponse} from \"../../utility/helpers\";\n\nexport const saveCatalogStatus = async (status, id)=>{\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/catalog/${status}/${id}`;\n    const payloadGeneric = {\n        method: \"PATCH\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                success: true,\n                saveCatalogStatusResult: result,\n                catalogStatusLoading: false\n            }\n        }).catch((error) => {\n            return {\n                success: false,\n                catalogStatusLoading: false,\n                catalogListLoadError: error.message || error\n            };\n        });\n};\n\nexport const deleteCatalog = async (catalog) => {\n    const result = await deleteCatalogRecord(catalog._id);\n    catalog.images.forEach((file) => deleteFile(file.id));\n    return result;\n};\n\nconst deleteCatalogRecord = (catalogId) => {\n    ///catalogApi/api/v1/catalog/5f166166312ef8249c6a5b57\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/${catalogId}`;\n    const payloadGeneric = {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            /* result\n            {\n                \"deletedCount\": 1\n            }\n            */\n            return {\n                deleteCatalogResult: result,\n                catalogListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                deleteCatalogResult: false,\n                catalogListLoading: false,\n                deleteCatalogResultError: error.message || error\n            };\n        });\n};\n\nexport const deleteFile = (fileId)=> {\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/file/${fileId}`;\n    const payloadGeneric = {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            console.log(\"DELETE file result\");\n            console.log(result);\n            return {\n                deleteImageResult: result\n            }\n        }).catch((error) => {\n            return {\n                deleteImageResult: false,\n                deleteImageResultError: error.message || error\n            };\n        });\n};\n\nexport const uploadImage = async (fileToUpload) => {\n\n    const formData = new FormData();\n    formData.append(\"myFile\", fileToUpload);\n\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/catalog/file`;\n    const payloadGeneric = {\n        method: \"POST\",\n        headers: {\n            //\"Content-Type\": \"multipart/form-data;\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        body: formData\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                uploadImageResult: result,\n                imageLoading: false\n            }\n        }).catch((error) => {\n            return {\n                uploadImageResult: false,\n                imageLoading: false,\n                uploadImageResultError: error.message || error\n            };\n        });\n};\n\nexport const saveCatalog = async (itemToSave)=>{\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/catalog`;\n    const payloadGeneric = {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify(itemToSave)\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                saveCatalogResult: result,\n                activeCatalogItem: itemToSave,\n                catalogListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                success: false,\n                catalogListLoading: false,\n                catalogListLoadError: error.message || error\n            };\n        });\n};\n\nexport const getNewCatalog = () => {\n    ///catalogapi/api/v1/catalog/new/darbyfurnitureoutlet.com\n    const {catalogApi , token, userDomain} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/new/${userDomain}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                activeCatalogItem: result,\n                catalogListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                activeCatalogItem: null,\n                catalogListLoading: false,\n                catalogListLoadError: error.message || error\n            };\n        });\n};\n\nexport const getCatalogList = async () => {\n    const {catalogApi , token, userDomain} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/catalog/domain/${userDomain}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                catalogList: result,\n                catalogListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                catalogList: [],\n                catalogListLoading: false,\n                catalogListLoadError: error.message || error\n            };\n        });\n};","\nexport const sortCatalog = (catalogList, categoryId)=> {\n    const calc = [...catalogList];\n    calc.sort((a, b) => {\n        const aHasCategory = a.categories && a.categories.length > 0;\n        const bHasCategory = b.categories && b.categories.length > 0;\n        const filterA = aHasCategory ? a.categories.filter((aItem) =>\n            aItem._id === categoryId ) : [];\n\n        const filterB = bHasCategory ? b.categories.filter((bItem) =>\n            bItem._id === categoryId ) : [];\n\n\n        if(filterA.length > 0 && filterB.length > 0) {\n            return filterA[0].sort - filterB[0].sort;\n        }\n        else if (filterA.length > 0)\n            return -1;\n        else\n            return 1;\n    });\n    return calc;\n};\n\nexport const swapOrder = (catalog, category, swapCatalog) => {\n    const target = {...catalog};\n    const swap = {...swapCatalog};\n    const targetCategory = target.categories.filter(\n        (cate)=> cate._id === category._id);\n    const swapCategory = swap.categories.filter(\n        (cate)=> cate._id === category._id);\n\n    if(targetCategory.length > 0 && swapCategory.length > 0) {\n        const newTarget = swapCategory[0].sort;\n        swapCategory[0].sort = targetCategory[0].sort;\n        targetCategory[0].sort = newTarget;\n    }\n    return {target, swap};\n};","import {createContext} from \"../../utility/modelContext\";\nimport {saveCatalog, uploadImage, deleteFile, saveCatalogStatus,\n    getNewCatalog, deleteCatalog, getCatalogList} from \"./catalogMessage\";\nimport {sortCatalog, swapOrder} from \"./catalogHelper\";\n\nlet provider = null;\n\nexport const createModel = () => ({\n    activeCatalogItem: null,\n    catalogList: [],\n    catalogListFiltered: [],\n    catalogListLoading: false,\n    savingCatalogSort: false,\n    catalogListInit: false,\n    catalogStatusLoading:false,\n    categorySelected: null,\n    onCatalogListInit,\n    onSetActiveCatalogItem,\n    onSaveCatalogItem,\n    onUploadImage,\n    onCreateNewCatalog,\n    onDeleteCatalog,\n    onSetCatalogStatus,\n    onAddCategoryToCatalog,\n    onRemoveCategoryFromCatalog,\n    onCategorySelectChange,\n    onCatalogOrderChange\n});\n\nconst onCatalogOrderChange = async (catalog, category, swapCatalog) => {\n    try {\n        provider.setState({savingCatalogSort: true});\n        const {target, swap} = swapOrder(catalog,category, swapCatalog);\n\n        await commonSaveCatalogItem(target, false);\n        await commonSaveCatalogItem(swap, false);\n    } catch (ex) {\n\n    }\n    provider.setState({savingCatalogSort: false});\n};\n\n//category select drop down\nconst onCategorySelectChange = (categorySelected) => {\n    const catalogListFiltered = sortCatalog(provider.state.catalogList,\n        categorySelected._id);\n    provider.setState({catalogListFiltered, categorySelected});\n};\n\nconst onAddCategoryToCatalog = async ({catalog, category}) => {\n    let maxSort = 1;\n\n    provider.state.catalogList.forEach((cat) => {\n        const searchCate = cat.categories.filter((cate)=> {\n            return cate._id === category._id;\n        });\n        if(searchCate.length > 0 && searchCate[0].sort > maxSort)\n            maxSort = searchCate[0].sort;\n    });\n\n    provider.setState({\n            \"catalogStatusLoading\": catalog._id,\n            \"catalogListLoading\": true\n        });\n\n    const newCatalog = {...catalog,\n        categories : [\n            {...category, sort: (maxSort + 1)},\n            ...catalog.categories]\n    };\n\n    await commonSaveCatalogItem(newCatalog, false);\n};\n\nconst onRemoveCategoryFromCatalog = async ({catalog, categoryId}) => {\n    provider.setState(\n        {\"catalogStatusLoading\": catalog._id,\n        catalogListLoading: true});\n    const categories = catalog.categories.filter(\n        (cat) => cat._id !== categoryId);\n    const newCatalog = {...catalog, categories};\n    await commonSaveCatalogItem(newCatalog, false);\n};\n\nconst onSetCatalogStatus = async (status, id) => {\n    provider.setState({\"catalogStatusLoading\": id, activeCatalogItem: null});\n    const {saveCatalogStatusResult,\n        success} = await saveCatalogStatus(status, id);\n    if(success && saveCatalogStatusResult.modifiedCount > 0) {\n        const catalogList = provider.state.catalogList\n            .map((catalog)=> {\n                if(catalog._id === id) {\n                    return {...catalog, status};\n                } else\n                    return catalog;\n            });\n        const catalogListFiltered = sortCatalog(catalogList,\n            provider.state.categorySelected &&\n            provider.state.categorySelected._id);\n\n        provider.setState({\n            catalogList,\n            catalogListFiltered,\n            catalogStatusLoading: false\n        });\n    } else\n        provider.setState({\"catalogStatusLoading\": false});\n};\n\nconst onDeleteCatalog = async (catalog) => {\n    provider.setState({catalogListLoading: true});\n    const result = await deleteCatalog(catalog);\n\n    result.catalogList = provider.state.catalogList.filter(\n        (cat) => cat._id !== catalog._id\n    );\n    result.catalogListFiltered = result.catalogList;\n    result.activeCatalogItem = null;\n    provider.setState(result);\n};\n\nconst onUploadImage = async (imageToSave, oldFileId) => {\n    if(oldFileId)\n        await deleteFile(oldFileId);\n\n    return await uploadImage(imageToSave);\n};\n\nconst onCreateNewCatalog = async ()=> {\n    provider.setState({catalogListInit: true});\n    const result = await getNewCatalog();\n    provider.setState(result);\n};\n\nconst onSaveCatalogItem = async (itemEdit, uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther) => {\n\n    provider.setState({catalogListLoading: true});\n    const fileShowing = {...uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther};\n    const search = itemEdit.images && itemEdit.images.find((im)=> im.id === fileShowing.id);\n    const images = itemEdit.images && itemEdit.images.length > 1 && search ?\n        itemEdit.images.map((im) => {\n            return im.id === fileShowing.id ? fileShowing : im;\n        }) : [fileShowing];\n\n    const activeCatalogItem = {...itemEdit, images};\n    await commonSaveCatalogItem(activeCatalogItem);\n};\n\nconst commonSaveCatalogItem = async (activeCatalogItem, setActiveItem = true) => {\n    const result = await saveCatalog(activeCatalogItem);\n\n    if(result.saveCatalogResult && result.saveCatalogResult.modifiedCount > 0) {\n        result.catalogList = provider.state.catalogList.map((ct) => {\n            return ct._id === activeCatalogItem._id ? activeCatalogItem : ct;\n        });\n\n        result.catalogListFiltered = sortCatalog(result.catalogList,\n            provider.state.categorySelected &&\n            provider.state.categorySelected._id);\n    } else if(result.saveCatalogResult &&\n        result.saveCatalogResult.upsertedCount > 0) {\n        result.catalogList = [\n            ...provider.state.catalogList, activeCatalogItem\n        ];\n\n        result.catalogListFiltered = sortCatalog(result.catalogList,\n            provider.state.categorySelected &&\n            provider.state.categorySelected._id);\n    }\n    if(!setActiveItem)\n        result.activeCatalogItem = null;\n    result.catalogStatusLoading = false;\n    provider.setState(result);\n};\n\nconst onSetActiveCatalogItem = (activeCatalogItem) => {\n    provider.setState({activeCatalogItem});\n};\n\nconst onCatalogListInit = () => {\n    provider.setState({catalogListInit: true});\n    getCatalogList().then((newState) => {\n            newState.catalogListFiltered = newState.catalogList;\n            provider.setState(newState);\n        }\n    );\n};\n\nexport const  getInitialState = (classInstance) => {\n    provider = classInstance;\n    return  createModel();\n};\n\nexport const catalogModel = createContext(createModel, getInitialState);\n","import {getStore} from \"../accounts/userAuthStore\";\nimport {handleResponse} from \"../../utility/helpers\";\n\nexport const getCategoryList = async () => {\n    const {catalogApi , token, userDomain} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/category/domain/${userDomain}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                categoryList: result,\n                categoryListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                categoryList: [],\n                categoryListLoading: false,\n                categoryListLoadError: error.message || error\n            };\n        });\n};\n\nexport const getNewCategory = () => {\n    //catalogapi/api/v1/category/new/darbyfurnitureoutlet.com\n    const {catalogApi , token, userDomain} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/category/new/${userDomain}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                activeCategoryItem: result,\n                categoryListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                activeCategoryItem: null,\n                categoryListLoading: false,\n                categoryListLoadError: error.message || error\n            };\n        });\n};\n\nexport const saveCategory = async (itemToSave)=>{\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/Category`;\n    const payloadGeneric = {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify(itemToSave)\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                saveCategoryResult: result,\n                activeCategoryItem: itemToSave,\n                categoryListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                success: false,\n                categoryListLoading: false,\n                categoryListLoadError: error.message || error\n            };\n        });\n};\n\nexport const deleteCategory = (categoryId) => {\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/category/${categoryId}`;\n    const payloadGeneric = {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            /* result\n            {\n                \"deletedCount\": 1\n            }\n            */\n            return {\n                deleteCategoryResult: result,\n                categoryListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                deleteCategoryResult: false,\n                categoryListLoading: false,\n                deleteCategoryResultError: error.message || error\n            };\n        });\n};","import {createContext} from \"../../utility/modelContext\";\nimport {saveCategory, getCategoryList,\n    getNewCategory, deleteCategory} from \"./categoryMessage\";\n\nlet provider = null;\n\nexport const createModel = () => ({\n    activeCategoryItem: null,\n    categoryList: [],\n    categoryListLoading: false,\n    categoryListInit: false,\n    onCategoryListInit,\n    onSetActiveCategoryItem,\n    onSaveCategoryItem,\n    onCreateNewCategory,\n    onDeleteCategory\n});\n\nconst onCategoryListInit = () => {\n    provider.setState({categoryListInit: true});\n    getCategoryList().then((newState) => {\n        provider.setState(newState);\n    });\n};\n\nconst onSetActiveCategoryItem = (activeCategoryItem) => {\n    provider.setState({activeCategoryItem});\n};\n\nconst onSaveCategoryItem = async (itemToSave) => {\n    if(itemToSave.isNew)\n        delete itemToSave.isNew;\n    const result = saveCategory(itemToSave);\n    result.categoryList = provider.state.categoryList.map((cat) =>\n        cat._id === itemToSave._id ? itemToSave : cat);\n\n    provider.setState(result);\n};\n\nconst onCreateNewCategory = async () => {\n    provider.setState({categoryListInit: true});\n    const result = await getNewCategory();\n\n    result.categoryList = [result.activeCategoryItem, ...provider.state.categoryList,\n        ];\n\n    provider.setState(result);\n};\n\nconst onDeleteCategory = async (category) => {\n    provider.setState({categoryListLoading: true});\n    const result = await deleteCategory(category._id);\n\n    result.categoryList = provider.state.categoryList.filter(\n        (cat) => cat._id !== category._id\n    );\n\n    result.activeCategoryItem = null;\n    provider.setState(result);\n};\n\nexport const  getInitialState = (classInstance) => {\n    provider = classInstance;\n    return  createModel();\n};\n\nexport const categoryModel = createContext(createModel, getInitialState);\n","import React from 'react';\nimport AccountModel from \"./models/accounts/accountModel\";\nimport {catalogModel} from \"./models/home/catalogModel\";\nimport {categoryModel} from \"./models/home/categoryModel\";\n\nexport const GlobalProviders = ({children}) => {\n\n    return (\n        <AccountModel.ModelProvider>\n            <catalogModel.ModelProvider>\n                <categoryModel.ModelProvider>\n                        {children}\n                </categoryModel.ModelProvider>\n            </catalogModel.ModelProvider>\n        </AccountModel.ModelProvider>\n    );\n};\n","import {useState, useEffect} from \"react\";\n\nexport const useIsMobile = () => {\n    const [isMobile, setIsMobile] = useState(window.innerWidth <= 760);\n    const resize = () => {\n        setIsMobile(window.innerWidth <= 760);\n    };\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", resize);\n        return () => {\n            window.removeEventListener(\"resize\", resize);\n        };\n    },[]);\n\n    return isMobile;\n};\n\nexport function useCardSize() {\n    const calcCardSize = (contWidth) => {\n\n        let widthCalc = \"\";\n        let heightPicCalc = \"\";\n        if(contWidth < 550) {\n            widthCalc= \"93vw\";\n            heightPicCalc = \"72.54vw\";\n        }\n        else if(contWidth < 700) {\n            widthCalc= \"46vw\";\n            heightPicCalc = \"35.88vw\";\n        }\n        else if(contWidth < 1200) {\n            widthCalc= \"30vw\";\n            heightPicCalc = \"24.3vw\";\n        }\n        else {\n            widthCalc= \"23vw\";\n            heightPicCalc = \"17.94vw\";\n        }\n\n        return {widthCalc, heightPicCalc};\n    };\n    const [cardWidth, setCardWidth] = useState(calcCardSize(window.innerWidth));\n\n    useEffect(() => {\n        function resizeWidth() {\n            const res = calcCardSize(window.innerWidth);\n            setCardWidth(res);\n        }\n\n        window.addEventListener(\"resize\", resizeWidth);\n\n        return () => {\n            window.removeEventListener(\"resize\", resizeWidth);\n        };\n    },[]); // Empty array ensures that effect is only run on mount\n\n    return cardWidth;\n}","import {Home, Category} from \"@material-ui/icons\";\n//category\nconst mainLinksAll = [\n    {label : \"Home\", icon: Home, selected:!(window.location.href.includes('category') || window.location.href.includes('keyLogs') ), link:\"#/\", route:\"/\", isMobile: true },\n    {label : \"Category\", icon: Category, selected:window.location.href.includes('category'),  link:\"#/category\", route:\"/category\", featureId: 1, isMobile: true }\n];\n\nexport const getMenus = (mobileOnly)=> {\n    if(mobileOnly)\n        return mainLinksAll.filter(link => link.isMobile);\n    else\n        return mainLinksAll;\n};\n","import React, {useState, useEffect} from 'react';\nimport {useIsMobile} from \"../../utility/useIsMobile\";\nimport { SideStrip } from \"fancy-menu\"\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Input\n} from \"@material-ui/icons\";\nimport accountModel from \"../../models/accounts/accountModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {getMenus} from \"../../models/home/menuStore\";\nimport {getStore, setUserData} from \"../../models/accounts/userAuthStore\";\nimport { useAuth0 } from '@auth0/auth0-react';\n\nconst mainLinksAll = getMenus();\n\nconst bottomLinks = [\n    {label : \"Logout\", icon: Input, link:\"#/logout\" }\n];\n\nexport const FullMenuNavComponent = ({ children, firstName, lastName,\n                                         userLoggedIn, picUrl, userFeatures  }) => {\n    const isMobile = useIsMobile();\n    const classes = useStyles(isMobile);\n\n    const {\n        isLoading,\n        isAuthenticated,\n        error,\n        user,\n        loginWithRedirect,\n        logout,\n    } = useAuth0();\n\n    const mainLinks = mainLinksAll.filter(\n        (link) => link.featureId === undefined ||\n            userFeatures.indexOf(link.featureId) > -1);\n\n    const userInfo = getStore();\n    if(!isLoading) {\n        console.log(\"---- Full Menu ----\");\n        console.log(user);\n    }\n    if(user) {\n        setUserData(user);\n        userInfo.picUrl = user.picture;\n        userInfo.name = user.name;\n    }\n\n    return (\n        userInfo.name &&\n        <div>\n            <SideStrip mainLinks={mainLinks}\n                       bottomLinks={bottomLinks}\n                       onMenuClose={() => {\n                          // setOpenMenu(false);\n                       }}\n                       expandMenu={false}\n                       userLabel={userInfo.name}\n                       imageUrl={decodeURIComponent(userInfo.picUrl)}\n            />\n            <div className={classes.mainContainer}>\n                {children}\n            </div>\n        </div> ||\n            <div>{children}</div>\n    );\n};\n\nexport const FullMenuNav = connectArray(FullMenuNavComponent,[accountModel]);\n\nconst useStyles = (isMobile) => makeStyles({\n    mainContainer:{\n        marginLeft: isMobile ? 7 : 70,\n        marginRight: 7\n    },\n})();\n\n","import React, { useEffect } from \"react\";\nimport {clearToken} from \"../../models/accounts/userAuthStore\";\nimport { Card, CardContent,\n    CardActions, Button, Typography  } from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { Input as LoginIcon, Info } from '@material-ui/icons';\nimport accountModel from \"../../models/accounts/accountModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nexport const LoggedOutComponent = ({onNotifyMainNavOfLogOff, userLoggedIn}) => {\n\n    const classes = useStyles();\n    const { loginWithRedirect,\n        logout,\n        isAuthenticated,\n        isLoading\n    } = useAuth0();\n\n    useEffect(() => {\n        clearToken();\n        if(isAuthenticated)\n            logout({returnTo: `${window.location.origin}/#/login`});\n\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"featurePermissions\");\n\n        if(userLoggedIn)\n            onNotifyMainNavOfLogOff();\n    });\n    // noinspection HtmlUnknownAnchorTarget\n    return (\n        <form id=\"logout-submit\"\n              className={classes.mainContainer}>\n            {!isLoading && !isAuthenticated &&\n            <Card style={{display: \"flex\"}}>\n                <div className={classes.outerCard}>\n                    <CardContent className={classes.cardContainer}>\n                        <img src={\"retail-shop-flat-icon_small.jpg\"}\n                             className={classes.logo}/>\n                        <div className={classes.messageContainer}>\n                            <Info className={classes.iconSpacing}/><Typography>You have been logged out.</Typography>\n                        </div>\n                    </CardContent>\n                    <CardActions>\n                        <Button variant=\"contained\"\n                                color=\"secondary\"\n                                className={classes.actionButton}\n                                onClick={() => {\n                                    loginWithRedirect();\n                                }}\n                        >\n                            <LoginIcon style={{marginRight: 10}}/> Login\n                        </Button>\n\n                    </CardActions>\n                </div>\n            </Card>\n            }\n            {(isLoading || isAuthenticated ) &&\n                <span>... logging out please wait</span>\n            }\n        </form>\n    )\n};\n\nexport const LoggedOut = connectArray(LoggedOutComponent, [accountModel]);\n\nconst useStyles = makeStyles({\n    mainContainer:{width: \"80%\", maxWidth: 460, margin: '100px auto'},\n    leftContainer: {height: 400,width: 300, paddingLeft: 4},\n    cardContainer: {minHeight: 170},\n    logo: {width: 250, margin: \"auto\"},\n    actionButton: {width: \"80%\", margin:\"auto\"},\n    messageContainer: { display: \"flex\", width:235, margin:\"40px auto\"},\n    iconSpacing: { marginRight: 12},\n    outerCard: {margin: \"45px auto\"}\n});","import React from \"react\";\nimport {InputBase} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Search as SearchIcon} from \"@material-ui/icons\";\n\nexport const SearchTextBox = ({onSearchChange}) => {\n    const classes = useStyle();\n    return (\n        <div className={classes.search}>\n            <div className={classes.searchIcon}>\n                <SearchIcon />\n            </div>\n            <InputBase\n                placeholder=\"Search…\"\n                onChange={(event) => onSearchChange(event.target.value)}\n                classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                }}\n                inputProps={{ 'aria-label': 'search' }}\n            />\n        </div>\n    );\n};\n\nconst useStyle = makeStyles(theme  => ({\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 7),\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n\n        },\n    },\n    searchIcon: {\n        width: theme.spacing(7),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    }\n}));","/*global siteData */\nimport React from \"react\";\nimport { AppBar, Toolbar, IconButton, Typography,\n     Button } from \"@material-ui/core\";\nimport { makeStyles} from \"@material-ui/core/styles\";\nimport { Add as AddIcon} from \"@material-ui/icons\";\nimport {SearchTextBox} from \"./SearchTextBox\";\nimport PropTypes from 'prop-types';\nimport {useIsMobile} from \"../useIsMobile\";\n\nconst useStyles = makeStyles((theme) => {\n\n    return {\n        root: {\n            backgroundColor: theme.palette.background.paper,\n            color: \"black\",\n            fontSize: \"14px\",\n            marginBottom: 10,\n            marginLeft: -20,\n            boxShadow: \"0 0\",\n        },\n        rootMobile: {\n            backgroundColor: theme.palette.background.paper,\n            color: \"black\",\n            fontSize: \"14px\",\n            marginBottom: 10,\n            marginTop: 0,\n            marginLeft: 20,\n            boxShadow: \"0 0\",\n            width: \"unset\"\n        },\n        toolBar : {\n            minHeight: 38,\n            height: 38\n        },\n        avatar : {\n            backgroundColor: \"transparent\",\n            color: theme.palette.primary.main,\n            marginRight: 15,\n            marginLeft: -15,\n        },\n        searchTextContainer: {\n            display: \"flex\",\n            position: \"absolute\",\n            right: 5,\n            top: 7,\n        },\n        childContainerNoSearch: {\n            display: \"flex\",\n        },\n        childContainer: {\n            display: \"flex\",\n            //position: \"absolute\",\n            right: 270,\n            top: 7,\n            marginLeft: 8\n        },\n        searchTextBox: {\n            width: 120\n        },\n        searchTextLabel: {\n            marginRight: \"5px\",\n            marginTop: \"6px\",\n        },\n        menuButton: {\n            marginLeft: -18,\n            marginRight: 10,\n        },\n        labelTitle: {\n            color: theme.palette.primary.main,\n            //marginRight: 28,\n            display: \"flex\"\n        },\n        labelTitleWithTextBox: {\n            color: theme.palette.primary.main,\n            marginRight: 28,\n            display: \"flex\",\n            marginTop: 12\n        }\n    };\n});\n\nexport const AppBarTitleAddSearchComponent =\n    ({ title, LeftIcon, onSearchChange, hideSearch, onAdd,\n         addLabel, children, childHasTextBox,\n         onAvatarClick}) => {\n\n    const isMobile = useIsMobile();\n    const classes = useStyles();\n    return (\n        <AppBar className={isMobile ? classes.rootMobile : classes.root} position=\"static\">\n            <Toolbar variant=\"dense\">\n                <span className={childHasTextBox ? classes.labelTitleWithTextBox : classes.labelTitle}>\n                    {/*  <IconButton className={classes.menuButton}\n                                color=\"inherit\"\n                                aria-label=\"Menu\"\n                                onClick={() => onAvatarClick && onAvatarClick()}\n                    >\n                        <LeftIcon />\n                    </IconButton>*/}\n                    <Typography variant=\"h6\" color=\"inherit\" >\n                        {title}\n                    </Typography>\n\n                </span>\n                {onAdd &&\n                    !isMobile &&\n                    <Button variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={onAdd}\n                            startIcon={<AddIcon />}\n                            style={{marginLeft: 20}}>\n                        {addLabel || \"Add\"}\n                    </Button>\n                }\n\n                {onAdd &&\n                    isMobile &&\n                    <IconButton\n                            color=\"secondary\"\n                            onClick={onAdd}\n                            style={{marginLeft: 10}}>\n                        <AddIcon />\n                    </IconButton>\n                }\n\n                <span className={hideSearch || onSearchChange === undefined || childHasTextBox ? classes.childContainerNoSearch : classes.childContainer}>\n                    {children}\n                </span>\n                {hideSearch !== true && onSearchChange !== undefined &&\n                <span className={classes.searchTextContainer}>\n\n                        <span className={classes.searchTextBox}>\n                            <SearchTextBox onSearchChange={(value) => onSearchChange(value)} />\n                        </span>\n                    </span>\n                }\n            </Toolbar>\n        </AppBar>\n    )\n};\n\nexport const AppBarTitleAddSearch = AppBarTitleAddSearchComponent;\n\nexport const AppBarTitleComponent = ({ title, LeftIcon, variant, iconSize, marginLeft, style, children,\n                                        childHasTextBox\n                                     }) => {\n    const classes = useStyles();\n    return (\n        <AppBar className={classes.root} style={style} position=\"static\">\n            <Toolbar variant=\"dense\"  >\n                <span className={ childHasTextBox ? classes.labelTitleWithTextBox : classes.labelTitle} >\n                    <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\">\n                        <LeftIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" color=\"inherit\" style={{marginTop: 9}} >\n                        {title}\n                    </Typography>\n                </span>\n                <span className={classes.childContainerNoSearch }>\n                    {children}\n                </span>\n            </Toolbar>\n        </AppBar>\n    )\n};\n\n\n\nexport const AppBarTitle = AppBarTitleComponent;\n\nAppBarTitle.propTypes = {\n    LeftIcon: PropTypes.elementType.isRequired,\n    title: PropTypes.string\n};\n","import React from \"react\";\nimport {Card, CardHeader, CardContent,\n    FormControlLabel, Checkbox, IconButton} from \"@material-ui/core\";\nimport {ThreeSixty, ArrowUpward, ArrowDownward} from \"@material-ui/icons\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useCardSize} from \"../../utility/useIsMobile\";\nimport {getStore} from \"../../models/accounts/userAuthStore\";\nimport {toCurrency} from \"../../utility/helpers\";\nimport {PicRatioView} from \"pic-ratio-fill\";\nconst {catalogApi} = getStore();\n\nexport const CatalogCard = ({catalog, onClick, inEdit, onSetStatus,\n                            disableEdit, isSaving, category, savingCatalogSort,\n                            onAddCategory, onRemoveCategory,\n                            onOrderChange, prevCatalog, nextCatalog}) => {\n\n    const {widthCalc, heightPicCalc} = useCardSize();\n    const widthValue= inEdit ? \"100%\" : widthCalc;\n    const imageIsConfig = catalog.images && catalog.images.length > 0;\n\n    const imageId = imageIsConfig ?\n        catalog.images[0].id : \"5f41d4dac6f0db5918e4cb20\";\n\n    const classes = useStyle({\n        widthValue,\n        heightValue: heightPicCalc\n    });\n\n    const willFitWidth = imageIsConfig && catalog.images[0].willFitWidth;\n    const colorRgb = imageIsConfig && catalog.images[0].colorRgb;\n    const colorRgbOther = imageIsConfig && catalog.images[0].colorRgbOther;\n\n    const filterCategory = category && catalog.categories.filter(\n        (cat) => cat._id === category._id ) || [];\n    const isInCategory = filterCategory.length > 0;\n\n    const inCategoryEdit = category && category._id;\n\n    // noinspection JSUnresolvedVariable\n    return (\n    <Card className={classes.card}>\n\n        <div className={classes.cardContainer} >\n            {!disableEdit &&\n            (\n                isSaving ?\n                    <FormControlLabel\n                        control={\n                            <ThreeSixty/>\n                        }\n                        label=\"Saving\"\n                        style={{minHeight: 42, marginLeft: 10}}\n                    /> :\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={catalog.status === \"active\"}\n                                onChange={(event) => {\n                                    const newStatus = event.target.checked ?\n                                        \"active\" : \"disabled\";\n                                    onSetStatus(newStatus, catalog._id);\n                                }}\n                                inputProps={{'aria-label': 'primary checkbox'}}\n                            />\n                        }\n                        label=\"Active\"\n                        style={{marginLeft: 3}}\n                    />\n            )\n            }\n\n            {!disableEdit &&\n            (\n                isSaving ?\n                    <FormControlLabel\n                        control={\n                            <ThreeSixty/>\n                        }\n                        label=\"Saving\"\n                        style={{minHeight: 42, marginLeft: 10}}\n                    /> :\n                    (inCategoryEdit && <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={isInCategory}\n                                onChange={(event) => {\n                                    const newStatusChecked = event.target.checked;\n                                    if(newStatusChecked)\n                                        onAddCategory({\n                                            catalog:catalog,\n                                            category\n                                        });\n                                    else\n                                        onRemoveCategory({\n                                            catalog:catalog,\n                                            categoryId:category._id\n                                        });\n                                }}\n                                inputProps={{'aria-label': 'primary checkbox'}}\n                            />\n                        }\n                        label=\"In Category\"\n                        style={{marginLeft: 3}}\n                    />\n                    )\n            )\n            }\n\n            <div className={classes.catPrice}>${toCurrency(catalog.unitPrice)}</div>\n            {inCategoryEdit && !savingCatalogSort && prevCatalog && isInCategory &&\n                <IconButton aria-label=\"Up\"\n                            className={classes.buttonUp}\n                            onClick={()=> onOrderChange(catalog, category, prevCatalog)}\n                >\n                    <ArrowUpward fontSize=\"large\" />\n                </IconButton>\n            }\n            <CardContent\n                onClick={() => {if(onClick) onClick();}}\n                className={willFitWidth ? classes.imageBoxWidth : classes.imageBoxHeight}\n            >\n                <PicRatioView\n                    src={`${catalogApi}/catalogApi/api/v1/catalog/file/${imageId}`}\n                    width={widthValue}\n                    height={heightPicCalc}\n                    colorRgb={colorRgb}\n                    colorRgbOpposite={colorRgbOther}\n                    willFitWidth={willFitWidth}\n                />\n\n            </CardContent>\n            {inCategoryEdit && !savingCatalogSort && nextCatalog && isInCategory &&\n            <IconButton aria-label=\"Up\"\n                        className={classes.buttonDown}\n                        onClick={()=> onOrderChange(catalog, category, nextCatalog)}\n            >\n                <ArrowDownward fontSize=\"large\"/>\n            </IconButton>\n            }\n        <CardHeader\n            title={catalog.shortDesc}\n            subheader={catalog.extraDesc}\n            classes={{\n                title:classes.cardTitle,\n                subheader: classes.cardSubheader\n            }}\n        />\n        </div>\n    </Card>\n    )\n};\n//props => props.widthCalc\nconst useStyle = makeStyles({\n    catPrice: {\n        position: \"absolute\",\n        //transform: \"translate(10%, 15%)\",\n        zIndex: 9,\n        padding: 15,\n        backgroundColor: \"#000000ba\",\n        font: \"800 16px Arial\",\n        \"border-bottom-right-radius\": 10,\n        color: \"white\"\n    },\n    card: {\n        width: props => props.widthValue,\n        marginBottom: 20,\n        backgroundColor: \"#d0c6c626\"\n    },\n    cardContainer: {\n        position: \"relative\"\n    },\n    cardTitle: {\n        fontSize: 16\n    },\n    cardSubheader: {\n        fontSize: 14\n    },\n    imageBoxHeight: {\n        width: props => props.widthValue,\n        height: props => props.heightValue,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\",\n        display:\"flex\",\n        padding:0\n    },\n    imageBoxWidth: {\n        width: props => props.widthValue,\n        height: props => props.heightValue,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\",\n        padding:0\n    },\n    buttonUp : {\n        position: \"absolute\",\n        //transform: \"translate(10%, 15%)\",\n        zIndex: 9,\n        padding: 15,\n        backgroundColor: \"#1095ec8f\",\n        left: \"calc(50% - 20px)\",\n        top: 40\n    },\n    buttonDown : {\n        position: \"absolute\",\n        //transform: \"translate(10%, 15%)\",\n        zIndex: 9,\n        padding: 15,\n        backgroundColor: \"#1095ec8f\",\n        left: \"calc(50% - 20px)\",\n        bottom: 75\n    }\n});\n\n","import React, {useState, useEffect, Fragment} from \"react\";\nimport {catalogModel} from \"../../models/home/catalogModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {TextField, InputAdornment, Button, Paper,\nCheckbox, FormControlLabel} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {toCurrency} from \"../../utility/helpers\";\nimport {getStore} from \"../../models/accounts/userAuthStore\";\nimport {PicRatioFill} from \"pic-ratio-fill\";\n\nconst {catalogApi} = getStore();\nconst containerWidth = 532;\nconst containerHeight = 415;\n\nconst CatalogItemEditComponent = ({\n     activeCatalogItem, onSaveCatalogItem, catalogListLoading,\n     onUploadImage, onDeleteCatalog\n}) => {\n    const imageIsConfig = activeCatalogItem.images\n        && activeCatalogItem.images.length > 0;\n    const imageId = imageIsConfig ?\n        activeCatalogItem.images[0].id : false;\n\n    const imageUrl = imageIsConfig ?\n        `${catalogApi}/catalogApi/api/v1/catalog/file/${imageId}` :\n        null\n    ;\n\n    const rgbData = imageIsConfig ?\n        activeCatalogItem.images[0].colorRgb : [0,0,0];\n    const metaUpload = imageIsConfig ?\n        {\n            \"id\": activeCatalogItem.images[0].id,\n            \"fileName\": activeCatalogItem.images[0].fileName\n        } : null;\n\n\n    const [itemEdit, setItemEdit] = useState({...activeCatalogItem});\n    const [uploadImage, setUpLoadImage] = useState(imageUrl);\n\n    const [uploadImageMetadata, setUpLoadImageMetadata] = useState(metaUpload);\n\n    const [willFitWidth, setWillFitWidth] = useState(\n        imageIsConfig ? activeCatalogItem.images[0].willFitWidth : true);\n\n    const [colorRgb, setColorRgb] = useState(rgbData);\n    const [colorRgbOther,setColorRgbOther] = useState(rgbData);\n    const [unitPrice, setUnitPrice] = useState(itemEdit.unitPrice);\n\n    const onValueChange = (fieldName, value) => setItemEdit({...itemEdit, [fieldName]: value});\n    const classes = useStyle();\n    useEffect(()=>{\n        if(activeCatalogItem._id !== itemEdit._id) {\n            const imageIsConfig = activeCatalogItem.images\n                && activeCatalogItem.images.length > 0;\n\n            setItemEdit({...activeCatalogItem});\n            setUpLoadImage(imageUrl);\n            setColorRgb(rgbData);\n            setUpLoadImageMetadata(metaUpload);\n            setWillFitWidth(imageIsConfig &&\n                activeCatalogItem.images[0].willFitWidth);\n        }\n    });\n\n    return(\n        <div className={classes.textBox}>\n            <Paper className={classes.paperEntryContainer}>\n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            checked={itemEdit.status === \"active\"}\n                            onChange={(event)=> {\n                                const newStatus = event.target.checked ?\n                                    \"active\" : \"disabled\";\n                                onValueChange(\"status\",newStatus);\n                            }}\n                            inputProps={{ 'aria-label': 'primary checkbox' }}\n                        />\n                    }\n                    label=\"Active\"\n                />\n\n            <TextField\n                style={{width:\"32%\"}}\n                label=\"Short Desc\"\n                value={itemEdit.shortDesc}\n                onChange={(event) => onValueChange(\"shortDesc\", event.target.value)}\n            />\n            <TextField\n                style={{width:\"42%\"}}\n                label=\"Extra Desc\"\n                value={itemEdit.extraDesc}\n                onChange={(event) => onValueChange(\"extraDesc\", event.target.value)}\n            />\n            <TextField\n                style={{width:\"20%\"}}\n                label={`Unit Price:$ ${toCurrency(itemEdit.unitPrice)}`}\n                value={unitPrice || \"\"}\n                InputProps={{\n                    startAdornment:\n                        <InputAdornment position=\"start\">$</InputAdornment>\n                }}\n                onChange={(event) => {\n                    setUnitPrice(event.target.value);\n                    onValueChange(\"unitPrice\", parseFloat(event.target.value));\n                }}\n            />\n\n                <TextField\n                    style={{width:\"32%\"}}\n                    label=\"Model #\"\n                    value={itemEdit.modelNumber || \"\"}\n                    onChange={(event) => onValueChange(\"modelNumber\", event.target.value)}\n                />\n            <TextField\n                style={{width:\"100%\"}}\n                multiline\n                rowsMax={4}\n                label=\"Description\"\n                value={itemEdit.description}\n                onChange={(event) => onValueChange(\"description\", event.target.value)}\n            />\n            {!catalogListLoading &&\n                <Fragment>\n                    <Button\n                        onClick={() => onSaveCatalogItem(itemEdit, uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther)}\n                    >\n                        Save\n                    </Button>\n                    <Button\n                        onClick={() => onDeleteCatalog(itemEdit)}\n                    >\n                        Delete\n                    </Button>\n                </Fragment>\n            }\n            {catalogListLoading && <span>Saving...</span>}\n\n            <input type=\"file\" name=\"myFile\" id=\"myFile\"\n                   onChange={async (event) => {\n                       console.log(event.target.files);\n                       const reader = new FileReader();\n                       /**\n                        * @param {{target:object}} e\n                        */\n                       reader.onload = function(e) {\n                           console.log(\"image read locally\");\n                           setUpLoadImage(e.target.result);\n                       };\n                       reader.readAsDataURL(event.target.files[0]);\n                       const uploadResult = await onUploadImage(event.target.files[0], imageId);\n\n                       if(uploadResult.uploadImageResult) {\n                           setUpLoadImageMetadata(uploadResult.uploadImageResult);\n                       }\n                   }}\n            />\n            </Paper>\n            {uploadImage !== null ?\n            <PicRatioFill\n                width={containerWidth}\n                height={containerHeight}\n                src={uploadImage}\n                onChangeColors={(color)=>{\n                    setColorRgb(color.colorRgb);\n                    setColorRgbOther(color.colorRgbOpposite);\n                    setWillFitWidth(color.willFitWidth);\n                    //debugger;\n                }}\n            />\n            : <img width={containerWidth}\n                src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOiSURBVHhe7do7SyNRGMbx/RyCYOv24n4GLSxdCxVRFLyiiZdEk3hL1gtYaGnh5QvYxjLp1aS0kU0hbAolsFgI6ruc4ytGk0myojOch+cHh3lnIkzxJ8PMxG9C0BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBuds4NnZWYlGoxVraWnp09fc3JxkMhk9s1ucDLy/vy+3t7e6549QKKSTW5wMfHR0JMU/Rd3zh7k6uMjNwMevgVtaWiSZTEosFrMrEU98ykolU9L6vdWewzCXahc5HzgcDtvtV9je3tZJZHFxUSe3OB94cnLSbr/C+vq6TgzsK6/A9/f3MjQ0ZG+IstmsHv04Bg6IV+CRkRGdREZHR3Wq7vr6WsbGxmR8fFxKpZIefYuBA+IVuHxOJBI6Vcrn8zI1NaV7Ij09PVL4XdC9VwwcEK/AZ2dnMjw8LJFIRPb29vToWxcXFxIKVz7T9vf3V0Rm4IB89CYrn8vbN2Be3kdm4IDUC/z09KTTK3NZNq8cjcfHR7utpq+vTwqF58gMHJD//Qbncrma39z3TOSbmxs+BwelXmBzN21egExPT8vV1ZXMz8/rJ40zd+GDg4O6x8C+qhW4q6tLp2dNTU12W+2yXU/7j3adGNhXXoE7Ozt1esvreD27u7s6MbCvygPPzMzYba2IDw8P0tHRoXveisWipNNp2dnZsc/RbW1t+gkD+6o88MTEhH1R0Yjun906iQ358k8C8XhcFhYW5PDw0D5Lm1eextbWlt0aDOyj8sDNzc12W89p+tReznt7eyWVSsn5+bl+4o2PSQEpD1zrd9qTkxOJRCOysrIil5eXerRxq6urOjGwr8oDm3jmMmsCvF9ra2uyubkpG782ZHl5uerf1Fsv+IO/jw4ODuTu753u+YOBfWR+6x0YGLB3uuZb9vLvOl+1zHnM+VzkZGBqHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYmsg/zgu6X0Ra40gAAAAASUVORK5CYII=\" />\n}\n        </div>\n    )\n};\n\n\nexport const CatalogItemEdit = connectArray(CatalogItemEditComponent,\n    [catalogModel]);\n\nconst useStyle = makeStyles({\n    textBox: {\n        '& > *': {\n            margin: 7,\n        },\n    },\n    picBorderHeight: {\n        width: \"50%\",\n        height: containerHeight,\n        zIndex: 1,\n    },\n    picBorderWidth: {\n        width: \"100%\",\n        height: \"50%\",\n        zIndex: 1,\n    },\n    imageBoxHeight: {\n        width: containerWidth,\n        height: containerHeight,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\",\n        display:\"flex\"\n    },\n    imageBoxWidth: {\n        width: containerWidth,\n        height: containerHeight,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\"\n    },\n    fixHeight: {\n        height: \"100%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        position: \"relative\",\n        zIndex: 2\n    },\n    fixWidth: {\n        width: \"inherit\",\n        position: \"absolute\",\n        transform: \"translateY(-50%)\",\n        zIndex: 2\n    },\n    paperEntryContainer: {\n        '& > *': {\n            margin: 7,\n        },\n        padding: 10,\n        width: \"100%\",\n        marginBottom: 15,\n        backgroundColor: \"#f2f0ea\"\n    }\n});","import React from \"react\";\nimport { Chip, Avatar, ListItem, ListItemText } from \"@material-ui/core\";\nimport { LibraryBooks } from \"@material-ui/icons\";\n\nexport const NoData = ({dataCount, children})=> (\n        dataCount === 0 &&\n        <Chip\n            avatar={\n                <Avatar>\n                    <LibraryBooks />\n                </Avatar>\n            }\n            label=\"No Data\"\n        />\n                || children\n);\n\nexport const ListNoData = ({dataCount, containerClass, className, children, noDataText})=> (\n    <div className={containerClass}>\n        {dataCount === 0 &&\n            <ListItem className={className}>\n                <ListItemText>\n                <Chip\n                    avatar={\n                        <Avatar>\n                            <LibraryBooks />\n                        </Avatar>\n                    }\n                    label={noDataText || \"No Data\"}\n                />\n                </ListItemText>\n            </ListItem>\n        || children\n        }\n    </div>\n);","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport {MenuList, MenuItem, IconButton} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Close} from \"@material-ui/icons\";\nimport {getItemPropertyValue} from \"../../helpers\";\nimport {ListNoData} from \"../NoData\";\n\nconst useStyle = makeStyles({\n        iconRight: {\n            position: \"absolute\",\n            right: 5,\n            top: ({closeButtonTopOffset}) => closeButtonTopOffset || -7\n        },\n        textDisplay :{\n            maxWidth: \"calc(100% - 50px)\",\n            overflow: \"hidden\",\n            fontSize:14\n        },\n        itemContainer: {\n            minHeight: 20,\n            paddingTop: 4,\n            paddingBottom: 4\n        }\n    }\n);\n\nexport const SelectedListComponent = ({items, displayField, onRemove, maxHeight, leftControls,\n                                          closeButtonTopOffset\n}) => {\n\n    const classes = useStyle({closeButtonTopOffset});\n\n\n    return (\n        <div style={{maxHeight: maxHeight, overflow:\"auto\"}}>\n            <MenuList>\n                <ListNoData dataCount={items.length}>\n                    {items.map((item, index) => (\n                        <MenuItem key={index} className={classes.itemContainer}>\n                            {leftControls && leftControls(item, index)}\n                            <span className={classes.textDisplay}>{getItemPropertyValue(item, displayField)}</span>\n                            <IconButton onClick={ ()=> onRemove(item)}\n                                        className={classes.iconRight}\n                            >\n                                <Close/>\n                            </IconButton>\n                        </MenuItem>\n                    ))}\n                </ListNoData>\n            </MenuList>\n        </div>\n    );\n};\n\nSelectedListComponent.propTypes = {\n    items: PropTypes.array.isRequired,\n    displayField: PropTypes.oneOfType([\n        PropTypes.node.isRequired,\n        PropTypes.func.isRequired\n    ]),\n    onRemove: PropTypes.func,\n    maxHeight: PropTypes.number\n};\n\nexport const SelectedList = SelectedListComponent;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Input, FormControl, InputLabel, MenuList, MenuItem, Popper, ClickAwayListener,\n    Grow, Paper, InputAdornment, Typography\n} from '@material-ui/core';\nimport {withStyles} from \"@material-ui/styles\";\nimport { Search, ArrowDropDown, ArrowDropUp\n} from '@material-ui/icons';\nimport { getItemPropertyValue } from \"../helpers\";\n\nclass SelectSearchComponent extends React.Component {\n    constructor(props) {\n        super();\n        const maxOptions = props.maxArrayLength || 7;\n        this.optionActiveRef = React.createRef();\n        this.state = {\n            showFullList: props.showFullList || false,\n            showDropDown: props.showDropDown || false,\n            searchString: \"\",//this.searchOptions(props.options, props.keyField, props.displayField, props.selected),\n            filteredPageOptions: props.options.slice(0,7),\n            filteredAllOptions: props.options,\n            autoFocus: props.autoFocus,\n            hasFocusOptionList: false,\n            hasFocusTextBox: false,\n            selectedIndex: 0,\n            maxArrayLength: maxOptions,\n            anchorEl: null\n        };\n    }\n\n    static getValueDisplay(props) {\n        const searchSelectedItem =props.selected && props.options.filter(item => {\n            return item[props.keyField] === props.selected[props.keyField]\n        }) || [];\n        return searchSelectedItem.length > 0 ? searchSelectedItem[0][props.displayField] : \"\";\n    }\n\n    onShowDropDown(event) {\n        // noinspection JSCheckFunctionSignatures\n        this.setState({anchorEl: event.currentTarget, showDropDown: true, filteredPageOptions: this.props.options.slice(0,7), filteredAllOptions: this.props.options});\n    }\n\n    hideDropDown() {\n        // noinspection JSCheckFunctionSignatures\n        this.setState({showDropDown: false});\n    }\n    /**\n     * @param {{keyCode:int}} e\n     */\n    onKeyPress(e){\n\n        if(e.keyCode === 13){\n            if(!this.state.showFullList && this.state.filteredPageOptions.length > this.state.selectedIndex) {\n                this.onItemSelect(this.state.filteredPageOptions[this.state.selectedIndex]);\n            }else if(this.state.showFullList) {\n                this.onItemSelect(this.state.filteredAllOptions[this.state.selectedIndex]);\n            }\n        } else if(e.keyCode === 40) {\n\n            if(this.state.showFullList && this.state.filteredAllOptions.length > this.state.selectedIndex + 1) {\n                // noinspection JSCheckFunctionSignatures\n                this.setState({selectedIndex: this.state.selectedIndex + 1});\n                if(this.optionContainerRef && this.optionActiveRef) {\n                    if (this.optionContainerRef.scrollTo)\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop);\n                    else if (this.optionContainerRef.scrollTop !== undefined)\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop;\n                }\n            } if(!this.state.showFullList && this.state.filteredPageOptions.length > this.state.selectedIndex + 1) {\n                // noinspection JSCheckFunctionSignatures\n                this.setState({selectedIndex: this.state.selectedIndex + 1});\n                if(this.optionContainerRef && this.optionActiveRef) {\n                    if (this.optionContainerRef.scrollTo)\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop);\n                    else if (this.optionContainerRef.scrollTop !== undefined)\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop;\n                }\n            }\n        } else if(e.keyCode === 38) {\n            if(this.state.selectedIndex  > 0) {\n                // noinspection JSCheckFunctionSignatures\n                this.setState({selectedIndex: this.state.selectedIndex - 1});\n                if(this.optionContainerRef && this.optionActiveRef) {\n                    if (this.optionContainerRef.scrollTo)\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop-46);\n                    else if (this.optionContainerRef.scrollTop !== undefined)\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop-46;\n                }\n            }\n        }\n\n\n    }\n\n    onSearchChange(value) {\n        if(value !== \"\") {\n            const filtered = value && value.toLowerCase ? this.props.options.filter(item => {\n                return getItemPropertyValue(item,this.props.displayField).toLowerCase().indexOf(value.toLowerCase()) > -1;\n            }) : [];\n            // noinspection JSCheckFunctionSignatures\n            this.setState({searchString: value, filteredPageOptions : filtered.slice(0,7), selectedIndex : 0,\n                            filteredAllOptions: filtered});\n        }\n        else\n            // noinspection JSCheckFunctionSignatures\n            this.setState({searchString: value, filteredPageOptions : this.props.options.slice(0,7), selectedIndex : 0,\n                            filteredAllOptions: this.props.options});\n    }\n\n    onItemSelect(item) {\n        if(item) {\n            this.props.onChange(item);\n            // noinspection JSCheckFunctionSignatures\n            this.setState({showDropDown: false, searchString: \"\"});\n        }\n    }\n\n    onSetAnchor(ref) {\n        if(this.state.anchorEl === null && ref != null)\n        // noinspection JSCheckFunctionSignatures\n            this.setState({anchorEl: ref});\n    }\n\n    render() {\n        const valueDisplay = this.constructor.getValueDisplay(this.props);\n        const { label, classes } = this.props;\n        const {anchorEl, showDropDown} = this.state;\n\n        const isShowDropDown = Boolean(anchorEl) && showDropDown;\n\n        return (\n            <div className={classes.root} >\n                <FormControl style={{width:\"100%\"}}>\n                    <ClickAwayListener onClickAway={() => this.hideDropDown()}>\n                        <div>\n                            {this.state.showDropDown ?\n                                <FormControl style={{width:\"100%\"}}>\n                                    {label && label.length > 0 &&\n                                        <InputLabel htmlFor=\"age-simple\">{label}</InputLabel>\n                                    }\n\n                                    <Input\n                                        value={this.state.searchString}\n                                        ref={(ref) => { this.onSetAnchor(ref); } }\n                                        autoFocus={this.state.autoFocus}\n                                        onChange={(event)=> this.onSearchChange(event.target.value)}\n                                        onKeyDown={(event)=> this.onKeyPress(event)}\n                                        endAdornment={\n                                            <InputAdornment position=\"end\">\n                                                <Search style={{marginRight: 10}} color=\"primary\" />\n                                                { this.props.onClose &&\n                                                    <ArrowDropUp style={{marginRight: 10, cursor:\"pointer\"}}\n                                                                 color=\"primary\"\n                                                                 onClick={()=> this.props.onClose()}\n                                                    />\n                                                }\n                                            </InputAdornment>\n                                        }\n                                    />\n                                </FormControl>\n                                :\n                                <FormControl style={{width:\"100%\"}}>\n                                    {label && label.length > 0 &&\n                                    <InputLabel htmlFor=\"age-simple\">{label}</InputLabel>\n                                    }\n                                    <Input autoFocus={this.state.autoFocus}\n                                        value={valueDisplay}\n                                        onClick={(event) => this.onShowDropDown(event)}\n                                        onKeyDown={(event) => this.onShowDropDown(event)}\n\n                                        endAdornment={\n                                            <InputAdornment position=\"end\">\n                                                <ArrowDropDown style={{marginRight: 10}} color=\"primary\" />\n                                            </InputAdornment>\n                                        }\n                                    />\n                                </FormControl>\n                            }\n\n                            <Popper open={isShowDropDown}\n                                    anchorEl={anchorEl}\n                                    style={{position:\"fixed\", zIndex:9999}}\n                                    transition disablePortal>\n\n                                {({ TransitionProps, placement }) => (\n                                    <Grow\n                                        {...TransitionProps}\n                                        id=\"menu-list-grow\"\n                                        style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n                                    >\n                                        <Paper>\n                                            {!this.state.showFullList &&\n                                                <MenuList>\n                                                    {this.props.topControl }\n                                                    {this.state.filteredPageOptions.length > 0 &&\n                                                        this.state.filteredPageOptions.map((item, index) =>\n                                                            (\n                                                                <MenuItem key={index}\n                                                                          selected={index === this.state.selectedIndex}\n                                                                          onClick={() => this.onItemSelect(item)}>\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\n                                                                </MenuItem>\n                                                            ))\n                                                    }\n                                                    {this.state.filteredPageOptions.length === 0 &&\n                                                        <MenuItem>\n                                                            No Data\n                                                        </MenuItem>\n                                                    }\n\n                                                    {this.state.filteredPageOptions.length > 0 &&\n                                                        this.state.maxArrayLength === this.state.filteredPageOptions.length &&\n                                                            <Typography\n                                                                color=\"textSecondary\"\n                                                                className={classes.noOptionsMessage}\n                                                            >\n                                                                ...\n                                                            </Typography>\n                                                    }\n                                                </MenuList>\n                                            }\n\n                                            {this.state.showFullList &&\n                                                <div style={{maxHeight: 300, maxWidth: 300, overflow:\"auto\"}}\n                                                     ref={ (ref) => { this.optionContainerRef = ref; } }\n                                                >\n                                                <MenuList >\n                                                    {this.props.topControl }\n                                                    {this.state.filteredAllOptions.length > 0 &&\n                                                        this.state.filteredAllOptions.map((item, index) =>\n                                                        (\n                                                            index === this.state.selectedIndex ?\n                                                                <span key={index} ref={ (ref) => { this.optionActiveRef = ref; } } >\n                                                                <MenuItem\n\n                                                                          selected={index === this.state.selectedIndex}\n                                                                          onClick={() => this.onItemSelect(item)}>\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\n                                                                </MenuItem>\n                                                                </span>\n                                                                :\n                                                                <MenuItem key={index}\n                                                                          selected={index === this.state.selectedIndex}\n                                                                          onClick={() => this.onItemSelect(item)}>\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\n                                                                </MenuItem>\n                                                        ))\n                                                    }\n                                                    {this.state.filteredAllOptions.length === 0 &&\n                                                        <MenuItem>\n                                                            No Data\n                                                        </MenuItem>\n                                                    }\n                                                </MenuList>\n                                                </div>\n                                            }\n                                        </Paper>\n                                    </Grow>\n                                )}\n                            </Popper>\n                        </div>\n                    </ClickAwayListener>\n                </FormControl>\n            </div>\n        );\n    }\n}\n\nSelectSearchComponent.propTypes = {\n    displayField: PropTypes.oneOfType([\n        PropTypes.node.isRequired,\n        PropTypes.func.isRequired\n    ]),\n    keyField: PropTypes.node.isRequired,\n    onChange: PropTypes.func.isRequired,\n    showFullList: PropTypes.bool,\n    onClose: PropTypes.func,\n    topControl: PropTypes.node\n};\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        zIndex: 99999999,\n        position: \"relative\"\n    },\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n        minHeight: 56\n    },\n    noOptionsMessage: {\n        padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    },\n});\n\nexport const SelectSearch = withStyles(styles)(SelectSearchComponent);","import React, {useState, useEffect} from \"react\";\nimport {categoryModel} from \"../../models/home/categoryModel\";\nimport {SelectSearch} from \"../../utility/components\";\nimport {connectArray} from \"../../utility/helpers\";\n\nexport const CategorySelectComponent = ({categoryList, onChange,\n                  categoryListInit, onCategoryListInit}) => {\n    const [selected, setSelected] = useState(null);\n    const modList = [{_id:null, category: \"All\"}, ...categoryList];\n    useEffect(()=>{\n        if(!categoryListInit)\n            onCategoryListInit();\n    });\n    return (\n        <SelectSearch\n            label=\"Category\"\n            showFullList={true}\n            options={modList}\n            keyField={\"_id\"}\n            displayField={\"category\"}\n            onChange={(category) => {\n                setSelected(category);\n                if(onChange)\n                    onChange(category);\n            }}\n            selected={selected}\n        />\n    )\n};\n\nexport const CategorySelect = connectArray(CategorySelectComponent,\n    [categoryModel]);","import React from 'react';\nimport { CircularProgress} from '@material-ui/core';\nimport {withStyles} from \"@material-ui/styles\";\nimport {  PlayForWork as LoadingIcon} from '@material-ui/icons';\n\nconst styles = () => ({\n    spinnerWrapper: {\n        position: 'relative',\n        margin: 'auto',\n\n    },\n    fabProgress: {\n        color: \"primary\",\n        position: 'absolute',\n        left: 0,\n        zIndex: 1,\n    },\n});\n\nexport const SpinnerDownloadingComponent = ({classes, spinnerSize, style, loading, children}) => {\n\n    return (\n        (children === undefined || loading) ?\n            <div className={classes.spinnerWrapper} style={{...style, width: spinnerSize}}>\n                <LoadingIcon color=\"secondary\" style={{width: spinnerSize, height: spinnerSize}}/>\n                <CircularProgress\n                    size={spinnerSize}\n                    className={classes.fabProgress}\n                />\n            </div> :\n            children\n    );\n};\n\nexport const SpinnerDownloading = withStyles(styles)(SpinnerDownloadingComponent);\n\n","import React, {Fragment, useEffect, useState} from \"react\";\nimport {catalogModel} from \"../../models/home/catalogModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {CatalogCard} from \"./CatalogCard\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {IconButton} from \"@material-ui/core\";\nimport {Close} from \"@material-ui/icons\";\nimport {CatalogItemEdit} from \"./CatalogItemEdit\";\nimport {useIsMobile} from \"../../utility/useIsMobile\";\nimport {CategorySelect} from \"./CategorySelect\";\n\nexport const CatalogTableComponent = ({catalogList,catalogListFiltered,\n       catalogListInit, onCatalogListInit, onAddCategoryToCatalog,\n       onRemoveCategoryFromCatalog, onSetActiveCatalogItem, activeCatalogItem,\n       onSetCatalogStatus, catalogStatusLoading, onCategorySelectChange,\n       onCatalogOrderChange, savingCatalogSort}) => {\n\n    useEffect(()=> {\n        if(!catalogListInit)\n            onCatalogListInit();\n    });\n\n    const isMobile = useIsMobile();\n    const [categorySelected, setCategorySelected] = useState(null);\n    const inEdit = activeCatalogItem !== null;\n    const classes = useStyle({inEdit});\n    return (\n        <Fragment>\n            <div style={{width: 360, marginTop: -10, marginBottom: 10}}>\n                <CategorySelect\n                    onChange={(category) => {\n                        setCategorySelected(category);\n                        onCategorySelectChange(category);\n                    }}\n                />\n            </div>\n        <div className={classes.mainContainer}>\n            <div className={classes.scrollContainer}>\n                <div className={classes.container}>\n                    {catalogListFiltered.map((catalog, index)=> {\n\n                        const prevCatalog = index > 0 ?\n                            catalogListFiltered[index - 1] : null;\n\n                        const nextCatalog =\n                            catalogListFiltered.length > (index - 2) ?\n                                catalogListFiltered[index + 1] : null;\n\n                        const filterCategory = categorySelected && nextCatalog && nextCatalog.categories.filter(\n                            (cat) => cat._id === categorySelected._id ) || [];\n\n                        const nextIsInCategory = filterCategory.length > 0;\n\n                        return (\n                            <CatalogCard\n                                key={`${catalog._id}${catalog.sort}`}\n                                prevCatalog={prevCatalog}\n                                nextCatalog={nextIsInCategory ? nextCatalog : null}\n                                inEdit={inEdit}\n                                catalog={catalog}\n                                category={categorySelected}\n                                disableEdit={activeCatalogItem != null}\n                                onSetStatus={onSetCatalogStatus}\n                                onAddCategory={onAddCategoryToCatalog}\n                                onRemoveCategory={onRemoveCategoryFromCatalog}\n                                isSaving={catalog._id === catalogStatusLoading}\n                                onOrderChange={onCatalogOrderChange}\n                                savingCatalogSort={savingCatalogSort}\n                                onClick={() => {\n                                    if (!isMobile) {\n                                        onSetActiveCatalogItem(catalog);\n                                    }\n                                }}\n                            />\n                        );\n                        }\n                    )}\n                </div>\n            </div>\n            {inEdit &&\n            <div className={classes.containerEdit}>\n                <div style={{width: \"100%\"}}>\n                <IconButton\n                    className={classes.editControl}\n                    onClick={()=> {\n                        onSetActiveCatalogItem(null);\n                    }}\n                >\n                    <Close/>\n                </IconButton>\n                </div>\n                <CatalogItemEdit />\n            </div>\n            }\n\n        </div>\n        </Fragment>\n    )\n};\n\nexport const CatalogTable = connectArray(CatalogTableComponent,[catalogModel]);\n\nconst useStyle = makeStyles({\n    scrollContainer: {\n        height: \"calc( 100vh - 80px)\",\n        width: props => props.inEdit ? \"24vw\" : \"100%\",\n        overflow: \"auto\"\n    },\n   container: {\n       display:\"flex\",\n       flexWrap:\"wrap\",\n       justifyContent: \"space-between\",\n       width:  \"100%\"\n   },\n    containerEdit: {\n        display:\"flex\",\n        flexWrap:\"wrap\",\n        justifyContent: \"flex-start\",\n        height: 80,\n        width: \"calc( 75vw - 87px)\"\n    },\n    editControl: {\n        position: \"absolute\",\n        right: 10,\n        //top: 90,\n        zIndex: 999\n    },\n    mainContainer: {\n        display:\"flex\",\n        flexWrap:\"wrap\",\n    }\n});","import React, {Fragment} from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\nimport {OpenWith} from \"@material-ui/icons\";\nimport {CatalogTable} from \"../catalog/CatalogTable\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {catalogModel} from \"../../models/home/catalogModel\";\n\nexport const HomeMainComponent = ({onCreateNewCatalog}) => {\n    //const { user, isAuthenticated } = useAuth0();\n\n    return (\n        <Fragment>\n            <AppBarTitleAddSearch\n                title=\"Catalogs\"\n                LeftIcon={OpenWith}\n                onSearchChange={(value) => {}}\n                onAdd={()=> {\n                    onCreateNewCatalog();\n                } }\n            />\n            <CatalogTable/>\n        </Fragment>\n    );\n};\n\nexport const HomeMain = connectArray(HomeMainComponent,[catalogModel]);","import React from 'react';\nimport { Redirect, Route} from 'react-router-dom';\nimport {hasFeature} from \"../models/accounts/userAuthStore\";\nimport {useAuth0} from \"@auth0/auth0-react\";\n\nexport const PrivateRoute = ({ history, permission, component: Component, ...rest }) => {\n    const { user, isLoading, isAuthenticated } = useAuth0();\n\n\n\n    return (\n        <Route {...rest} render={(props) => {\n            //hasFeature(permission) ||\n            return (\n                ((isAuthenticated && hasFeature(permission)) || isLoading) ?\n                    <Component {...props} />\n                    :\n                    <Redirect push={true} to={{pathname: '/login', state: {from: props.location}}}/>\n            )\n        }}\n        />\n    )\n};","import React, {useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Paper, ListItemText, ListItem, TextField,\n    ListItemIcon, FormControlLabel, Checkbox, IconButton,\n    InputLabel, Select, MenuItem, FormControl\n} from \"@material-ui/core\";\nimport {Category, Save, Delete} from \"@material-ui/icons\";\n\nexport const CategoryItemEdit = ({category, saveCategory, deleteCategoey}) => {\n    const [itemChanged, setItemChanged] = useState(false);\n    const [itemEdit, setItemEdit] = useState({...category});\n    const onValueChange = (fieldName, value) => {\n        setItemEdit({...itemEdit, [fieldName]: value});\n        setItemChanged(true);\n    };\n\n    const classes = useStyles();\n    return (\n        <Paper className={classes.paper}>\n            <ListItem style={{display: \"flex\"}}>\n                <ListItemIcon>\n                    <Category />\n                </ListItemIcon>\n                <ListItemText\n                    primary={itemEdit.category}\n                    classes={{\n                        primary: itemChanged ? classes.title : undefined\n                    }}\n                />\n\n                <ListItemIcon>\n                    <IconButton\n                        edge=\"end\"\n                        aria-label=\"Save\"\n                        color=\"primary\"\n                        classes={{\n                            edgeEnd:classes.edgeEndChange\n                        }}\n                        onClick={()=> {\n                            saveCategory(itemEdit);\n                            setItemChanged(false);\n                        }}\n                    >\n                        <Save />\n                    </IconButton>\n                </ListItemIcon>\n\n                <ListItemIcon>\n                    <IconButton\n                        edge=\"end\"\n                        aria-label=\"Save\"\n                        color=\"primary\"\n                        classes={{\n                            edgeEnd:classes.edgeEndChange\n                        }}\n                        onClick={()=> {\n                            deleteCategoey(itemEdit);\n                            setItemChanged(false);\n                        }}\n                    >\n                        <Delete />\n                    </IconButton>\n                </ListItemIcon>\n            </ListItem>\n            <ListItem>\n                <FormControlLabel\n                    style={{width:\"50%\"}}\n                    control={\n                        <Checkbox\n                            checked={itemEdit.systemOnly}\n                            onChange={(event)=> {\n                                const newStatus = event.target.checked;\n                                onValueChange(\"systemOnly\",newStatus);\n                            }}\n                            inputProps={{ 'aria-label': 'primary checkbox' }}\n                        />\n                    }\n                    label=\"System\"\n                />\n                <FormControl className={classes.formControl}>\n                    <InputLabel>Sort</InputLabel>\n                    <Select\n                        value={itemEdit.sort}\n                        onChange={(event)=>{\n                            onValueChange(\"sort\",event.target.value)\n                        }}\n                    >\n                        {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((value) => (\n                            <MenuItem key={value} value={value}>{value}</MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n            </ListItem>\n\n            <ListItem>\n                <TextField\n                    style={{width:\"100%\"}}\n                    label=\"Title\"\n                    value={itemEdit.category}\n                    onChange={(event) => onValueChange(\"category\", event.target.value)}\n                />\n            </ListItem>\n        </Paper>\n    );\n};\n\nconst useStyles = makeStyles(() => ({\n    paper: {\n        minHeight: 140,\n        width: \"100%\",\n        //padding: theme.spacing(2),\n    },\n    edgeEndChange: {\n        marginRight: -20\n    },\n    title: {\n        fontWeight: 900,\n        color: \"limegreen\",\n        fontSize: \"x-large\"\n    }\n}));","import React, {Fragment, useEffect} from \"react\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {categoryModel} from \"../../models/home/categoryModel\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Grid} from \"@material-ui/core\";\nimport {CategoryItemEdit} from \"./CategoryItemEdit\";\n\nconst CategoryTableComponent = ({onCategoryListInit, categoryListInit,\n                                    categoryList, onSaveCategoryItem,\n                                    onDeleteCategory}) => {\n    useEffect(()=> {\n        if(!categoryListInit)\n            onCategoryListInit();\n    });\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n\n            <Grid container className={classes.root} spacing={2}>\n            {categoryList.map((category, index) => {\n\n                return (\n                    <Grid item xs={12} md={4} key={category._id}>\n                        <CategoryItemEdit\n                            category={category}\n                            saveCategory={onSaveCategoryItem}\n                            deleteCategoey={onDeleteCategory}\n                        />\n                    </Grid>\n                )\n            })}\n            </Grid>\n        </Fragment>\n    )\n};\n\nexport const CategoryTable = connectArray(CategoryTableComponent,\n    [categoryModel]);\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        flexGrow: 1,\n    },\n    paper: {\n        minHeight: 140,\n        width: \"100%\",\n        //padding: theme.spacing(2),\n    },\n    control: {\n\n    },\n}));","import React, {Fragment} from \"react\";\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\nimport {OpenWith} from \"@material-ui/icons\";\nimport {CategoryTable} from \"../catalog/CategoryTable\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {categoryModel} from \"../../models/home/categoryModel\";\nimport {connectArray} from \"../../utility/helpers\";\n\nexport const CategoryMaintenanceComponent = ({onCreateNewCategory}) => {\n    const classes = useStyles();\n    return (\n        <Fragment>\n\n            <AppBarTitleAddSearch\n                title=\"Category\"\n                LeftIcon={OpenWith}\n                onSearchChange={(value) => {}}\n                onAdd={()=> {\n                    onCreateNewCategory();\n                }}\n            />\n            <div className={classes.mainContainer}>\n                <CategoryTable/>\n            </div>\n        </Fragment>\n    )\n};\n\nexport const CategoryMaintenance = connectArray(\n    CategoryMaintenanceComponent, [categoryModel]);\n\nconst useStyles = makeStyles({\n    mainContainer: {\n        backgroundColor: \"#e8e7e7\",\n        minHeight: \"calc(100vh - 65px)\",\n        padding: 5,\n        marginTop: -10\n    }\n});\n","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport { GlobalProviders} from \"../GlobalProviders\";\nimport {getLoginRoute} from \"./history\";\nimport {FullMenuNav} from \"../desktop/home/FullMenuNav\";\nimport { LoggedOut } from \"../desktop/accounts/LoggedOut\";\nimport {initAuthStore} from \"../models/accounts/userAuthStore\";\nimport {HomeMain} from \"../desktop/home/HomeMain\";\nimport {PrivateRoute} from \"./PrivateRoute\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport {setTokenValue} from \"../models/accounts/userAuthStore\";\nimport {CategoryMaintenance} from \"../desktop/home/CategoryMaintenance\";\nimport {setRouteComponent} from \"../utility/helpers\";\n\nexport class RouteComponent extends React.Component {\n\n    constructor() {\n        super();\n        this.state = { isMobile: window.innerWidth <= 760, errorMessage: \"\" };\n    }\n\n    componentDidMount() {\n        setRouteComponent(this);\n        initAuthStore();\n        const checkSize = ()=> {\n            // noinspection JSCheckFunctionSignatures\n            this.setState({isMobile: window.innerWidth <= 760});\n        };\n        window.addEventListener(\"resize\", checkSize);\n        const { getAccessTokenSilently } = this.props.auth0;\n\n        const getToken = async () =>{\n            try {\n                const accessToken = await getAccessTokenSilently();\n                console.log(\"-------- Token Complete First Try -------\");\n                console.log(accessToken);\n                setTokenValue(accessToken);\n            } catch (ex) {\n                //when login in with google account, you have to try twice to get token.\n                getAccessTokenSilently().then((accessToken)=> {\n                    setTokenValue(accessToken);\n                    console.log(\"-------- Token Complete second Try-------\");\n                    console.log(accessToken);\n                    console.log(\"-\");\n                }).catch((ex)=> {\n                    console.log(\"-------- No Token -------\");\n                    console.log(ex.message || ex);\n                });\n            }\n        };\n        getToken();\n    }\n\n    render() {\n        const { user, isLoading } = this.props.auth0;\n        if(!isLoading) {\n            console.log(\"--- user render ---\");\n            console.log(this.props.auth0);\n        }\n        const LoginRoute = getLoginRoute();\n        const {isMobile, errorMessage} = this.state;\n        const MenuNav = FullMenuNav; //isMobile ? MobileNav :\n        //if(errorMessage !== \"\" ) //show error hear\n        //    const tt = \"\";\n\n        return (\n            <GlobalProviders>\n                    <HashRouter>\n                        <MenuNav>\n                        <div>\n                            <LoginRoute/>\n                            <Route exact path=\"/logOut\"\n                                   component={LoggedOut} />\n\n                            <Route exact path=\"/logcomplete\"\n                                   component={LoggedOut} />\n\n\n                            <PrivateRoute permission={1}\n                                          exact path=\"/\"\n                                          component={isMobile ? HomeMain : HomeMain} />\n\n                            <PrivateRoute permission={1}\n                                          exact path=\"/category\"\n                                          component={isMobile ?\n                                              CategoryMaintenance : CategoryMaintenance} />\n\n                        </div>\n                        </MenuNav>\n                    </HashRouter>\n            </GlobalProviders>\n        );\n    }\n}\n\n/*\n\n */\n\nexport default withAuth0(RouteComponent)","import './index.css'\nimport React from 'react'\nimport {render} from 'react-dom'\nimport RouteConfig from  \"./route/RouteConfig\";\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { grey, yellow } from '@material-ui/core/colors';\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nconst muiTheme = createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    },\n    palette: {\n        textColor: grey.A700,\n        primary: {\n            main: \"#3d6090\",\n            success: \"#4caf50\",\n            idle: yellow[500]\n        },\n        secondary: { main: \"#428bca\"}\n    }\n});\n\nrender(\n    <Auth0Provider\n        domain={process.env.AUTH_DOMAIN}\n        clientId={process.env.AUTH_CLIENT_ID}\n        audience={process.env.AUTH_AUDIENCE}\n        redirectUri={`${window.location.origin}`}\n        scope=\"read.events\"\n    >\n        <MuiThemeProvider theme={muiTheme}><RouteConfig /></MuiThemeProvider>\n    </Auth0Provider>,\n    document.querySelector('#app'));\n\n","import { createContext } from \"../../utility/modelContext\";\nimport {setUserData, getStore, isLoggedIn} from \"./userAuthStore\";\nlet provider = null;\n\nexport const createModel = () => {\n    const userStore = getStore();\n    return {\n        userNotAuthorized: false,\n        userLoggedIn: isLoggedIn(),\n        name: userStore.name,\n        picUrl: userStore.picUrl,\n        userFeatures: userStore.featurePermissions ||[],\n        faceLoginMessage:null,\n        passwordMessage:'',\n        confirmPasswordMessage:'',\n        profileLoading: false,\n        onSetAccount,\n        onNotifyMainNavOfLogOff\n    };\n};\n\nexport const  getInitialState = (classInstance) => {\n    provider = classInstance;\n    return  createModel();\n};\n\nconst onNotifyMainNavOfLogOff = () => {\n    provider.setState({userLoggedIn: false});\n};\n\nconst onSetAccount = (loginInfo) => {\n        console.log(\"loginInfo\");\n        console.log(loginInfo);\n        setUserData(loginInfo);\n        provider.setState({\n            picUrl: loginInfo.picUrl,\n            name: loginInfo.name,\n            email:loginInfo.email,\n            userLoggedIn : true});\n};\n\nexport default createContext(createModel, getInitialState);\n","import React from \"react\";\n\nexport const createContext = (createModel, getInitialState) => {\n    const ModelContext = React.createContext(createModel());\n\n    class ModelProvider extends React.Component {\n        /** @param props.match.params.testMode */\n        constructor(props) {\n            super(props);\n            const testMode = props && props.match && props.match.params && props.match.params.testMode\n                                && props.match.params.testMode.indexOf(\"testMode\") > -1 && props.match.params.testMode;\n            this.state = getInitialState(this, testMode || \"\");\n        }\n\n        render() {\n            return (\n                <ModelContext.Provider value={this.state}>\n                    {this.props.children}\n                </ModelContext.Provider>\n            )\n        }\n    }\n\n    const connect =(UserComponent, componentProps) => {\n        return (\n            <ModelContext.Consumer>\n                {(vm) => (\n                    <UserComponent {...vm} {...componentProps} />\n                )}\n            </ModelContext.Consumer>\n        );\n    };\n\n\n    // noinspection JSUnusedGlobalSymbols\n    return { ModelContext, ModelProvider, connect };\n};","import {withStyles} from \"@material-ui/styles\";\nlet routeComponent = null;\n\nexport const setRouteComponent = (compoent) => routeComponent = compoent;\n\nexport const connectArray = (component, arrayOfModels, styles = null) => {\n    const intermediateComponents = [];\n    const startComponent = styles !== null ?\n        withStyles(styles)(component) : component;\n\n    arrayOfModels.forEach((model, index) => {\n        if(index === 0) {\n            const newItem = (params) => model.connect(startComponent, params);\n            intermediateComponents.push(newItem);\n        } else {\n            const newItem = (params) => model.connect(intermediateComponents[index - 1], params);\n            intermediateComponents.push(newItem);\n        }\n    });\n\n    return intermediateComponents[intermediateComponents.length - 1];\n};\n\nexport const inTable = (onClickFunc) => {\n    return (event, target) => {\n        event.stopPropagation();\n        onClickFunc(event, target);\n    };\n};\n\nexport const getItemPropertyValue = function (targetObject, fieldName) {\n    let propValue = targetObject || \"\";\n\n    if(typeof(fieldName) === 'function')\n        propValue = fieldName(targetObject);\n    else if(fieldName !== \"\") {\n        const childFields = fieldName && fieldName.split('.') || [];\n        //get to the property value by iterating through the object structure\n        childFields.forEach((childField) => {\n            propValue = propValue && propValue[childField];\n        });\n    }\n\n    return propValue;\n};\n\nexport const filterOutExistingByField = (fullList, existingList, fieldNameFull, fieldNameExisting) => {\n    ///<summary>calculate remaining Ids.  Provide list of Ids and Object that has key field</summary>\n    ///<param name=\"fullList\" type=\"Array\">Full List that you start out with</param>\n    ///<param name=\"existingList\" type=\"Array\">List to filter out from full list</param>\n    return Array.isArray(fullList) && fullList.filter(function (el) {\n        const startValue = getItemPropertyValue(el, fieldNameFull);\n        for (let iExisting = 0; iExisting < (Array.isArray(existingList) ? existingList.length : 0); iExisting++) {\n            const existingField = fieldNameExisting || fieldNameExisting === \"\" ? fieldNameExisting : fieldNameFull;\n            const existingValue = getItemPropertyValue(existingList[iExisting], existingField);\n            if (startValue === existingValue)\n                return false;\n        }\n        return true;\n    }) || [];\n};\n\nexport const filterOutExistingByArrayId = (fullList, existingList, fieldNameFull) => {\n    ///<summary>calculate remaining Ids.  Provide list of Ids to exclude</summary>\n    ///<param name=\"fullList\" type=\"Array\">Full List that you start out with</param>\n    ///<param name=\"existingList\" type=\"Array\">List to filter out from full list</param>\n    return Array.isArray(fullList) && fullList.filter(function (el) {\n        const startValue = getItemPropertyValue(el, fieldNameFull);\n        for (let iExisting = 0; iExisting < (Array.isArray(existingList) ? existingList.length : 0); iExisting++) {\n            const existingValue = existingList[iExisting];\n            if (startValue === existingValue)\n                return false;\n        }\n        return true;\n    }) || [];\n};\n\nexport function shuffleArray(array) {\n    let currentIndex = array.length, temporaryValue, randomIndex;\n\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n\n        // Pick a remaining element...\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1;\n\n        // And swap it with the current element.\n        temporaryValue = array[currentIndex];\n        array[currentIndex] = array[randomIndex];\n        array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n}\n\nexport const handleResponse = () => {\n    return function(response) {\n        if(response.ok) {\n            return response.json();\n        }\n        if(response.status === 401)\n            routeComponent.setState({errorMessage: \"Unauthorized\"});\n\n        throw new Error(response.status);\n    };\n};\n\nexport const  b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        const slice = byteCharacters.slice(offset, offset + sliceSize)\n\n        const byteNumbers = new Array(slice.length);\n        for (let i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i)\n        }\n\n        const byteArray = new Uint8Array(byteNumbers);\n        byteArrays.push(byteArray)\n    }\n\n    return new Blob(byteArrays, { type: contentType })\n};\n\nexport const toCurrency = (theNumber) => {\n    return parseFloat(theNumber).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n};\n"],"sourceRoot":""}